// Generated by Haxe 4.0.0-preview.4+1e3e5e016
(function ($global) { "use strict";
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = {},$_;
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Client = function() {
	data_FirebaseModel.instance.init();
	data_Routes.instance.init();
	ui_ClientUI.instance.init();
	data_UserModel.instance.init();
	data_UserLoader.instance.startSession();
	this.initBundledClasses();
};
$hxClasses["Client"] = Client;
Client.__name__ = ["Client"];
Client.main = function() {
	new Client();
};
Client.prototype = {
	initBundledClasses: function() {
		haxe_Timer.delay(function() {
			Require.module("ui_LazyView").then(function(id) {
				var _ = ui_LazyView = $s.ui_LazyView;
				return id;
			}).then(function(_1) {
				ui_ViewMapper.instance.set("test",ui_LazyView);
				m.redraw();
				return;
			});
			Require.module("ui_RosettaChapter").then(function(id1) {
				var _2 = ui_RosettaChapter = $s.ui_RosettaChapter;
				return id1;
			}).then(function(_3) {
				ui_ViewMapper.instance.set("ui.RosettaChapter",ui_RosettaChapter);
				m.redraw();
				return;
			});
			Require.module("ui_PdfChapter").then(function(id2) {
				var _4 = ui_PdfChapter = $s.ui_PdfChapter;
				return id2;
			}).then(function(_5) {
				ui_ViewMapper.instance.set("ui.PdfChapter",ui_PdfChapter);
				m.redraw();
				return;
			});
			Require.module("ui_VideoChapter").then(function(id3) {
				var _6 = ui_VideoChapter = $s.ui_VideoChapter;
				return id3;
			}).then(function(_7) {
				ui_ViewMapper.instance.set("ui.VideoChapter",ui_VideoChapter);
				m.redraw();
				return;
			});
			Require.module("ui_PitchChapter").then(function(id4) {
				var _8 = ui_PitchChapter = $s.ui_PitchChapter;
				return id4;
			}).then(function(_9) {
				ui_ViewMapper.instance.set("ui.PitchChapter",ui_PitchChapter);
				m.redraw();
				return;
			});
			return Require.module("ui_ScorxmixerChapter").then(function(id5) {
				var _10 = ui_ScorxmixerChapter = $s.ui_ScorxmixerChapter;
				return id5;
			}).then(function(_11) {
				ui_ViewMapper.instance.set("ui.ScorxmixerChapter",ui_ScorxmixerChapter);
				m.redraw();
				return;
			});
		},2000);
	}
	,__class__: Client
};
var DataClass = function() { };
$hxClasses["DataClass"] = DataClass;
DataClass.__name__ = ["DataClass"];
var DateTools = function() { };
$hxClasses["DateTools"] = DateTools;
DateTools.__name__ = ["DateTools"];
DateTools.__format_get = function(d,e) {
	switch(e) {
	case "%":
		return "%";
	case "A":
		return DateTools.DAY_NAMES[d.getDay()];
	case "B":
		return DateTools.MONTH_NAMES[d.getMonth()];
	case "C":
		return StringTools.lpad(Std.string(d.getFullYear() / 100 | 0),"0",2);
	case "D":
		return DateTools.__format(d,"%m/%d/%y");
	case "F":
		return DateTools.__format(d,"%Y-%m-%d");
	case "I":case "l":
		var hour = d.getHours() % 12;
		return StringTools.lpad(Std.string(hour == 0 ? 12 : hour),e == "I" ? "0" : " ",2);
	case "M":
		return StringTools.lpad(Std.string(d.getMinutes()),"0",2);
	case "R":
		return DateTools.__format(d,"%H:%M");
	case "S":
		return StringTools.lpad(Std.string(d.getSeconds()),"0",2);
	case "T":
		return DateTools.__format(d,"%H:%M:%S");
	case "Y":
		return Std.string(d.getFullYear());
	case "a":
		return DateTools.DAY_SHORT_NAMES[d.getDay()];
	case "b":case "h":
		return DateTools.MONTH_SHORT_NAMES[d.getMonth()];
	case "d":
		return StringTools.lpad(Std.string(d.getDate()),"0",2);
	case "e":
		return Std.string(d.getDate());
	case "H":case "k":
		return StringTools.lpad(Std.string(d.getHours()),e == "H" ? "0" : " ",2);
	case "m":
		return StringTools.lpad(Std.string(d.getMonth() + 1),"0",2);
	case "n":
		return "\n";
	case "p":
		if(d.getHours() > 11) {
			return "PM";
		} else {
			return "AM";
		}
		break;
	case "r":
		return DateTools.__format(d,"%I:%M:%S %p");
	case "s":
		return Std.string(d.getTime() / 1000 | 0);
	case "t":
		return "\t";
	case "u":
		var t = d.getDay();
		if(t == 0) {
			return "7";
		} else if(t == null) {
			return "null";
		} else {
			return "" + t;
		}
		break;
	case "w":
		return Std.string(d.getDay());
	case "y":
		return StringTools.lpad(Std.string(d.getFullYear() % 100),"0",2);
	default:
		throw new js__$Boot_HaxeError("Date.format %" + e + "- not implemented yet.");
	}
};
DateTools.__format = function(d,f) {
	var r_b = "";
	var p = 0;
	while(true) {
		var np = f.indexOf("%",p);
		if(np < 0) {
			break;
		}
		var len = np - p;
		r_b += len == null ? HxOverrides.substr(f,p,null) : HxOverrides.substr(f,p,len);
		r_b += Std.string(DateTools.__format_get(d,HxOverrides.substr(f,np + 1,1)));
		p = np + 2;
	}
	var len1 = f.length - p;
	r_b += len1 == null ? HxOverrides.substr(f,p,null) : HxOverrides.substr(f,p,len1);
	return r_b;
};
DateTools.format = function(d,f) {
	return DateTools.__format(d,f);
};
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = ["EReg"];
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw new js__$Boot_HaxeError("EReg::matched");
		}
	}
	,matchedPos: function() {
		if(this.r.m == null) {
			throw new js__$Boot_HaxeError("No string matched");
		}
		return { pos : this.r.m.index, len : this.r.m[0].length};
	}
	,matchSub: function(s,pos,len) {
		if(len == null) {
			len = -1;
		}
		if(this.r.global) {
			this.r.lastIndex = pos;
			this.r.m = this.r.exec(len < 0 ? s : HxOverrides.substr(s,0,pos + len));
			var b = this.r.m != null;
			if(b) {
				this.r.s = s;
			}
			return b;
		} else {
			var b1 = this.match(len < 0 ? HxOverrides.substr(s,pos,null) : HxOverrides.substr(s,pos,len));
			if(b1) {
				this.r.s = s;
				this.r.m.index += pos;
			}
			return b1;
		}
	}
	,map: function(s,f) {
		var offset = 0;
		var buf_b = "";
		while(true) {
			if(offset >= s.length) {
				break;
			} else if(!this.matchSub(s,offset)) {
				buf_b += Std.string(HxOverrides.substr(s,offset,null));
				break;
			}
			var p = this.matchedPos();
			buf_b += Std.string(HxOverrides.substr(s,offset,p.pos - offset));
			buf_b += Std.string(f(this));
			if(p.len == 0) {
				buf_b += Std.string(HxOverrides.substr(s,p.pos,1));
				offset = p.pos + 1;
			} else {
				offset = p.pos + p.len;
			}
			if(!this.r.global) {
				break;
			}
		}
		if(!this.r.global && offset > 0 && offset < s.length) {
			buf_b += Std.string(HxOverrides.substr(s,offset,null));
		}
		return buf_b;
	}
	,__class__: EReg
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = ["HxOverrides"];
HxOverrides.strDate = function(s) {
	switch(s.length) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k1 = s.split("-");
		return new Date(k1[0],k1[1] - 1,k1[2],0,0,0);
	case 19:
		var k2 = s.split(" ");
		var y = k2[0].split("-");
		var t = k2[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw new js__$Boot_HaxeError("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = function() { };
$hxClasses["Lambda"] = Lambda;
Lambda.__name__ = ["Lambda"];
Lambda.array = function(it) {
	var a = [];
	var i = $getIterator(it);
	while(i.hasNext()) a.push(i.next());
	return a;
};
Lambda.mapi = function(it,f) {
	var l = new haxe_ds_List();
	var i = 0;
	var x = $getIterator(it);
	while(x.hasNext()) l.add(f(i++,x.next()));
	return l;
};
Lambda.has = function(it,elt) {
	var x = $getIterator(it);
	while(x.hasNext()) if(x.next() == elt) {
		return true;
	}
	return false;
};
Lambda.iter = function(it,f) {
	var x = $getIterator(it);
	while(x.hasNext()) f(x.next());
};
var Document = function() {
	this.refLinks = new haxe_ds_StringMap();
	this.inlineSyntaxes = [];
};
$hxClasses["Document"] = Document;
Document.__name__ = ["Document"];
Document.prototype = {
	parseRefLinks: function(lines) {
		var titles = new EReg("(" + "\"[^\"]+\"" + "|" + "'[^']+'" + "|" + "\\([^)]+\\)" + ")","");
		var link = new EReg("^[ ]{0,3}" + "\\[([^\\]]+)\\]" + ":\\s+(\\S+)\\s*(" + "\"[^\"]+\"" + "|" + "'[^']+'" + "|" + "\\([^)]+\\)" + "|)\\s*$","");
		var _g1 = 0;
		var _g = lines.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(!link.match(lines[i])) {
				continue;
			}
			var id = link.matched(1);
			var url = link.matched(2);
			var title = link.matched(3);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = HxOverrides.substr(url,1,url.length - 2);
			}
			if(title == "" && lines[i + 1] != null && titles.match(lines[i + 1])) {
				title = titles.matched(1);
				lines[i + 1] = "";
			}
			if(title == "") {
				title = null;
			} else {
				title = title.substring(1,title.length - 1);
			}
			id = id.toLowerCase();
			var value = new Link(id,url,title);
			var _this = this.refLinks;
			if(__map_reserved[id] != null) {
				_this.setReserved(id,value);
			} else {
				_this.h[id] = value;
			}
			lines[i] = "";
		}
	}
	,parseLines: function(lines) {
		var parser = new markdown_BlockParser(lines,this);
		var blocks = [];
		while(parser.pos < parser.lines.length) {
			var _g = 0;
			var _g1 = markdown_BlockSyntax.get_syntaxes();
			while(_g < _g1.length) {
				var syntax = _g1[_g];
				++_g;
				if(syntax.canParse(parser)) {
					var block = syntax.parse(parser);
					if(block != null) {
						blocks.push(block);
					}
					break;
				}
			}
		}
		return blocks;
	}
	,parseInline: function(text) {
		return new markdown_InlineParser(text,this).parse();
	}
	,__class__: Document
};
var Link = function(id,url,title) {
	this.id = id;
	this.url = url;
	this.title = title;
};
$hxClasses["Link"] = Link;
Link.__name__ = ["Link"];
Link.prototype = {
	__class__: Link
};
Math.__name__ = ["Math"];
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = ["Reflect"];
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		return null;
	}
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.setProperty = function(o,field,value) {
	var tmp;
	var tmp1;
	if(o.__properties__) {
		tmp = o.__properties__["set_" + field];
		tmp1 = tmp;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		o[tmp](value);
	} else {
		o[field] = value;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = ["haxe","IMap"];
var haxe_ds_StringMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.StringMap"] = haxe_ds_StringMap;
haxe_ds_StringMap.__name__ = ["haxe","ds","StringMap"];
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,__class__: haxe_ds_StringMap
};
var Require = function() { };
$hxClasses["Require"] = Require;
Require.__name__ = ["Require"];
Require.module = function(name) {
	var _this = Require.loaded;
	if(__map_reserved[name] != null ? _this.existsReserved(name) : _this.h.hasOwnProperty(name)) {
		var _this1 = Require.loaded;
		if(__map_reserved[name] != null) {
			return _this1.getReserved(name);
		} else {
			return _this1.h[name];
		}
	}
	var p = new Promise(function(resolve,reject) {
		var doc = window.document;
		var script = null;
		var hasFailed = false;
		var resourceLoaded = function(_) {
			resolve(name);
		};
		var resourceFailed = function(_1) {
			if(!hasFailed) {
				hasFailed = true;
				Require.loaded.remove(name);
				doc.body.removeChild(script);
				reject(name);
			}
		};
		script = doc.createElement("script");
		script.onload = resourceLoaded;
		script.onerror = resourceFailed;
		script.src = Require.jsPath + name + Require.jsExt;
		doc.body.appendChild(script);
	});
	var _this2 = Require.loaded;
	if(__map_reserved[name] != null) {
		_this2.setReserved(name,p);
	} else {
		_this2.h[name] = p;
	}
	return p;
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = ["Std"];
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x,10);
	if(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {
		v = parseInt(x);
	}
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringTools = function() { };
$hxClasses["StringTools"] = StringTools;
StringTools.__name__ = ["StringTools"];
StringTools.htmlEscape = function(s,quotes) {
	s = s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
	if(quotes) {
		return s.split("\"").join("&quot;").split("'").join("&#039;");
	} else {
		return s;
	}
};
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return HxOverrides.substr(s,0,start.length) == start;
	} else {
		return false;
	}
};
StringTools.endsWith = function(s,end) {
	var elen = end.length;
	var slen = s.length;
	if(slen >= elen) {
		return HxOverrides.substr(s,slen - elen,elen) == end;
	} else {
		return false;
	}
};
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
StringTools.lpad = function(s,c,l) {
	if(c.length <= 0) {
		return s;
	}
	while(s.length < l) s = c + s;
	return s;
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = ["Type"];
Type.getClassName = function(c) {
	var a = c.__name__;
	if(a == null) {
		return null;
	}
	return a.join(".");
};
Type.createInstance = function(cl,args) {
	return new (Function.prototype.bind.apply(cl,[null].concat(args)));
};
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw new js__$Boot_HaxeError("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw new js__$Boot_HaxeError("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw new js__$Boot_HaxeError("Constructor " + constr + " does not need parameters");
	}
	return f;
};
var cx_Cache = function(maxItems) {
	if(maxItems == null) {
		maxItems = 3;
	}
	this.cache = new haxe_ds_StringMap();
	this.prio = [];
	this.max = maxItems;
};
$hxClasses["cx.Cache"] = cx_Cache;
cx_Cache.__name__ = ["cx","Cache"];
cx_Cache.prototype = {
	set: function(key,value) {
		var _this = this.cache;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,value);
		} else {
			_this.h[key] = value;
		}
		this.prio.push(key);
		while(this.prio.length > this.max) this.cache.remove(this.prio.shift());
	}
	,get: function(key) {
		var _this = this.cache;
		if(!(__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key))) {
			return null;
		}
		var array = this.prio;
		if(array[array.length - 1] != key) {
			HxOverrides.remove(this.prio,key);
			this.prio.push(key);
		}
		var _this1 = this.cache;
		if(__map_reserved[key] != null) {
			return _this1.getReserved(key);
		} else {
			return _this1.h[key];
		}
	}
	,__class__: cx_Cache
};
var data_ApiCalls = function() { };
$hxClasses["data.ApiCalls"] = data_ApiCalls;
data_ApiCalls.__name__ = ["data","ApiCalls"];
data_ApiCalls.getAuthRequest = function(url) {
	return data_ApiCalls.getFBUserToken().then(function(token) {
		var request = { method : "get", url : url, headers : { authorization : "Bearer " + token}};
		data_ErrorsAndLogs.addLog("AuthRequest: " + url);
		return m.request(request);
	});
};
data_ApiCalls.getRequest = function(url) {
	data_ErrorsAndLogs.addLog("Request: " + url);
	return m.request({ method : "get", url : url});
};
data_ApiCalls.getFBCurrentUser = function() {
	return firebase.auth().currentUser;
};
data_ApiCalls.getFBUserToken = function() {
	if(data_ApiCalls.getFBCurrentUser() != null) {
		return data_ApiCalls.getFBCurrentUser().getIdToken();
	} else {
		return new Promise(function(res,rej) {
			rej("Firebase.auth().currentUser == null");
			return;
		});
	}
};
var data_ClassMap = function() {
	this.map = new haxe_ds_StringMap();
};
$hxClasses["data.ClassMap"] = data_ClassMap;
data_ClassMap.__name__ = ["data","ClassMap"];
data_ClassMap.prototype = {
	getNew: function(cls,args) {
		var _this = this.map;
		return Type.createInstance(__map_reserved[cls] != null ? _this.getReserved(cls) : _this.h[cls],args);
	}
	,set: function(name,cls) {
		var _this = this.map;
		if(__map_reserved[name] != null) {
			_this.setReserved(name,cls);
		} else {
			_this.h[name] = cls;
		}
	}
	,exists: function(name) {
		var _this = this.map;
		if(__map_reserved[name] != null) {
			return _this.existsReserved(name);
		} else {
			return _this.h.hasOwnProperty(name);
		}
	}
	,__class__: data_ClassMap
};
var data_UserData = function(data1) {
	this.access = 1;
	this.domains = ["kak"];
	this.set_firstname(data1.firstname);
	this.set_lastname(data1.lastname);
	this.set_email(data1.email);
	if(Object.prototype.hasOwnProperty.call(data1,"domains")) {
		this.set_domains(data1.domains);
	}
	if(Object.prototype.hasOwnProperty.call(data1,"access")) {
		this.set_access(data1.access);
	}
};
$hxClasses["data.UserData"] = data_UserData;
data_UserData.__name__ = ["data","UserData"];
data_UserData.__interfaces__ = [DataClass];
data_UserData.validate = function(data1) {
	var output = [];
	if(!Object.prototype.hasOwnProperty.call(data1,"firstname")) {
		output.push("firstname");
	} else if(data1.firstname == null) {
		output.push("firstname");
	}
	if(!Object.prototype.hasOwnProperty.call(data1,"lastname")) {
		output.push("lastname");
	} else if(data1.lastname == null) {
		output.push("lastname");
	}
	if(!Object.prototype.hasOwnProperty.call(data1,"email")) {
		output.push("email");
	} else if(data1.email == null) {
		output.push("email");
	}
	return output;
};
data_UserData.prototype = {
	set_firstname: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for UserData.firstname.");
		}
		return this.firstname = v;
	}
	,set_lastname: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for UserData.lastname.");
		}
		return this.lastname = v;
	}
	,set_email: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for UserData.email.");
		}
		return this.email = v;
	}
	,set_domains: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for UserData.domains.");
		}
		return this.domains = v;
	}
	,set_access: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for UserData.access.");
		}
		return this.access = v;
	}
	,__class__: data_UserData
	,__properties__: {set_access:"set_access",set_domains:"set_domains",set_email:"set_email",set_lastname:"set_lastname",set_firstname:"set_firstname"}
};
var data_Content = function(data1) {
	this.rooms = [];
	this.dbpath = "content-tree";
	this.path = "";
	this.set_id(data1.id);
	if(Object.prototype.hasOwnProperty.call(data1,"rooms")) {
		this.set_rooms(data1.rooms);
	}
};
$hxClasses["data.Content"] = data_Content;
data_Content.__name__ = ["data","Content"];
data_Content.__interfaces__ = [DataClass];
data_Content.validate = function(data1) {
	var output = [];
	if(!Object.prototype.hasOwnProperty.call(data1,"id")) {
		output.push("id");
	} else if(data1.id == null) {
		output.push("id");
	}
	return output;
};
data_Content.prototype = {
	set_id: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Content.id.");
		}
		return this.id = v;
	}
	,set_rooms: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Content.rooms.");
		}
		return this.rooms = v;
	}
	,__class__: data_Content
	,__properties__: {set_rooms:"set_rooms",set_id:"set_id"}
};
var data_Room = function(data1) {
	this.home = null;
	this.sort = 0;
	this.title = "defaultRoomTitle";
	this.shelves = [];
	this.id = "defaultRoomId";
	this.dbpath = "";
	this.path = "";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"id")) {
			this.set_id(data1.id);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"shelves")) {
			this.set_shelves(data1.shelves);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"home")) {
			this.set_home(data1.home);
		}
	}
};
$hxClasses["data.Room"] = data_Room;
data_Room.__name__ = ["data","Room"];
data_Room.__interfaces__ = [DataClass];
data_Room.prototype = {
	set_id: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Room.id.");
		}
		return this.id = v;
	}
	,set_shelves: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Room.shelves.");
		}
		return this.shelves = v;
	}
	,set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Room.title.");
		}
		return this.title = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Room.sort.");
		}
		return this.sort = v;
	}
	,set_home: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Room.home.");
		}
		return this.home = v;
	}
	,__class__: data_Room
	,__properties__: {set_home:"set_home",set_sort:"set_sort",set_title:"set_title",set_shelves:"set_shelves",set_id:"set_id"}
};
var data_Home = function(data1) {
	this.sections = [];
	this.title = "Titel för hemsidan";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sections")) {
			this.set_sections(data1.sections);
		}
	}
};
$hxClasses["data.Home"] = data_Home;
data_Home.__name__ = ["data","Home"];
data_Home.__interfaces__ = [DataClass];
data_Home.prototype = {
	set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Home.title.");
		}
		return this.title = v;
	}
	,set_sections: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Home.sections.");
		}
		return this.sections = v;
	}
	,__class__: data_Home
	,__properties__: {set_sections:"set_sections",set_title:"set_title"}
};
var data_IHomeSection = function() { };
$hxClasses["data.IHomeSection"] = data_IHomeSection;
data_IHomeSection.__name__ = ["data","IHomeSection"];
data_IHomeSection.__interfaces__ = [DataClass];
data_IHomeSection.prototype = {
	__class__: data_IHomeSection
};
var data_SectionShelves = function(data1) {
	this.sort = 200;
	this.title = "Shelves section";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
	}
};
$hxClasses["data.SectionShelves"] = data_SectionShelves;
data_SectionShelves.__name__ = ["data","SectionShelves"];
data_SectionShelves.__interfaces__ = [data_IHomeSection];
data_SectionShelves.validate = function(data1) {
	return [];
};
data_SectionShelves.prototype = {
	set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for SectionShelves.title.");
		}
		return this.title = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for SectionShelves.sort.");
		}
		return this.sort = v;
	}
	,__class__: data_SectionShelves
	,__properties__: {set_sort:"set_sort",set_title:"set_title"}
};
var data_SectionCells = function(data1) {
	this.cells = [];
	this.sort = 100;
	this.title = "";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"cells")) {
			this.set_cells(data1.cells);
		}
	}
};
$hxClasses["data.SectionCells"] = data_SectionCells;
data_SectionCells.__name__ = ["data","SectionCells"];
data_SectionCells.__interfaces__ = [data_IHomeSection];
data_SectionCells.validate = function(data1) {
	return [];
};
data_SectionCells.prototype = {
	set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for SectionCells.title.");
		}
		return this.title = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for SectionCells.sort.");
		}
		return this.sort = v;
	}
	,set_cells: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for SectionCells.cells.");
		}
		return this.cells = v;
	}
	,__class__: data_SectionCells
	,__properties__: {set_cells:"set_cells",set_sort:"set_sort",set_title:"set_title"}
};
var data_IHomeCell = function() { };
$hxClasses["data.IHomeCell"] = data_IHomeCell;
data_IHomeCell.__name__ = ["data","IHomeCell"];
data_IHomeCell.__interfaces__ = [DataClass];
data_IHomeCell.prototype = {
	__class__: data_IHomeCell
};
var data_TextCell = function(data1) {
	this.image = "";
	this.url = "";
	this.bgimage = "/assets/background/background.jpg";
	this.bgcolor = "#666";
	this.text = "Celltext...";
	this.color = "white";
	this.gridRow = "";
	this.gridColumn = "";
	this.sort = 100;
	this.title = "Cell Title";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"gridColumn")) {
			this.set_gridColumn(data1.gridColumn);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"gridRow")) {
			this.set_gridRow(data1.gridRow);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"color")) {
			this.set_color(data1.color);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"text")) {
			this.set_text(data1.text);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"bgcolor")) {
			this.set_bgcolor(data1.bgcolor);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"bgimage")) {
			this.set_bgimage(data1.bgimage);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"url")) {
			this.set_url(data1.url);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"image")) {
			this.set_image(data1.image);
		}
	}
};
$hxClasses["data.TextCell"] = data_TextCell;
data_TextCell.__name__ = ["data","TextCell"];
data_TextCell.__interfaces__ = [data_IHomeCell];
data_TextCell.prototype = {
	set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.title.");
		}
		return this.title = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.sort.");
		}
		return this.sort = v;
	}
	,set_gridColumn: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.gridColumn.");
		}
		return this.gridColumn = v;
	}
	,set_gridRow: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.gridRow.");
		}
		return this.gridRow = v;
	}
	,set_color: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.color.");
		}
		return this.color = v;
	}
	,set_text: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.text.");
		}
		return this.text = v;
	}
	,set_bgcolor: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.bgcolor.");
		}
		return this.bgcolor = v;
	}
	,set_bgimage: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.bgimage.");
		}
		return this.bgimage = v;
	}
	,set_url: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.url.");
		}
		return this.url = v;
	}
	,set_image: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for TextCell.image.");
		}
		return this.image = v;
	}
	,__class__: data_TextCell
	,__properties__: {set_image:"set_image",set_url:"set_url",set_bgimage:"set_bgimage",set_bgcolor:"set_bgcolor",set_text:"set_text",set_color:"set_color",set_gridRow:"set_gridRow",set_gridColumn:"set_gridColumn",set_sort:"set_sort",set_title:"set_title"}
};
var data_VideoCell = function(data1) {
	this.video = "/assets/video/tada.mp4";
	this.image = "";
	this.url = "";
	this.bgimage = "/assets/background/background.jpg";
	this.bgcolor = "#666";
	this.text = "Celltext...";
	this.color = "white";
	this.gridRow = "";
	this.gridColumn = "";
	this.sort = 100;
	this.title = "Cell Title";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"gridColumn")) {
			this.set_gridColumn(data1.gridColumn);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"gridRow")) {
			this.set_gridRow(data1.gridRow);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"color")) {
			this.set_color(data1.color);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"text")) {
			this.set_text(data1.text);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"bgcolor")) {
			this.set_bgcolor(data1.bgcolor);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"bgimage")) {
			this.set_bgimage(data1.bgimage);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"url")) {
			this.set_url(data1.url);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"image")) {
			this.set_image(data1.image);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"video")) {
			this.set_video(data1.video);
		}
	}
};
$hxClasses["data.VideoCell"] = data_VideoCell;
data_VideoCell.__name__ = ["data","VideoCell"];
data_VideoCell.__interfaces__ = [data_IHomeCell];
data_VideoCell.validate = function(data1) {
	return [];
};
data_VideoCell.prototype = {
	set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.title.");
		}
		return this.title = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.sort.");
		}
		return this.sort = v;
	}
	,set_gridColumn: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.gridColumn.");
		}
		return this.gridColumn = v;
	}
	,set_gridRow: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.gridRow.");
		}
		return this.gridRow = v;
	}
	,set_color: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.color.");
		}
		return this.color = v;
	}
	,set_text: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.text.");
		}
		return this.text = v;
	}
	,set_bgcolor: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.bgcolor.");
		}
		return this.bgcolor = v;
	}
	,set_bgimage: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.bgimage.");
		}
		return this.bgimage = v;
	}
	,set_url: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.url.");
		}
		return this.url = v;
	}
	,set_image: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.image.");
		}
		return this.image = v;
	}
	,set_video: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoCell.video.");
		}
		return this.video = v;
	}
	,__class__: data_VideoCell
	,__properties__: {set_video:"set_video",set_image:"set_image",set_url:"set_url",set_bgimage:"set_bgimage",set_bgcolor:"set_bgcolor",set_text:"set_text",set_color:"set_color",set_gridRow:"set_gridRow",set_gridColumn:"set_gridColumn",set_sort:"set_sort",set_title:"set_title"}
};
var data_Shelf = function(data1) {
	this.type = "content";
	this.sort = 0;
	this.books = [];
	this.info = "defaultShelfInfo";
	this.access = 0;
	this.title = "defaultShelfTitle";
	this.id = "defaultShelfId";
	this.dbpath = "";
	this.path = "";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"id")) {
			this.set_id(data1.id);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"access")) {
			this.set_access(data1.access);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"info")) {
			this.set_info(data1.info);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"books")) {
			this.set_books(data1.books);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"type")) {
			this.set_type(data1.type);
		}
	}
};
$hxClasses["data.Shelf"] = data_Shelf;
data_Shelf.__name__ = ["data","Shelf"];
data_Shelf.__interfaces__ = [DataClass];
data_Shelf.prototype = {
	set_id: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.id.");
		}
		return this.id = v;
	}
	,set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.title.");
		}
		return this.title = v;
	}
	,set_access: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.access.");
		}
		return this.access = v;
	}
	,set_info: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.info.");
		}
		return this.info = v;
	}
	,set_books: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.books.");
		}
		return this.books = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.sort.");
		}
		return this.sort = v;
	}
	,set_type: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Shelf.type.");
		}
		return this.type = v;
	}
	,__class__: data_Shelf
	,__properties__: {set_type:"set_type",set_sort:"set_sort",set_books:"set_books",set_info:"set_info",set_access:"set_access",set_title:"set_title",set_id:"set_id"}
};
var data_Book = function(data1) {
	this.sort = 0;
	this.chapters = [];
	this.info = "defaultBookInfo";
	this.type = "standard";
	this.access = 0;
	this.title = "defaultBookTitle";
	this.id = "defaultBookId";
	this.dbpath = "";
	this.path = "";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"id")) {
			this.set_id(data1.id);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"access")) {
			this.set_access(data1.access);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"type")) {
			this.set_type(data1.type);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"info")) {
			this.set_info(data1.info);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"chapters")) {
			this.set_chapters(data1.chapters);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
	}
};
$hxClasses["data.Book"] = data_Book;
data_Book.__name__ = ["data","Book"];
data_Book.__interfaces__ = [DataClass];
data_Book.prototype = {
	set_id: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.id.");
		}
		return this.id = v;
	}
	,set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.title.");
		}
		return this.title = v;
	}
	,set_access: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.access.");
		}
		return this.access = v;
	}
	,set_type: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.type.");
		}
		return this.type = v;
	}
	,set_info: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.info.");
		}
		return this.info = v;
	}
	,set_chapters: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.chapters.");
		}
		return this.chapters = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Book.sort.");
		}
		return this.sort = v;
	}
	,__class__: data_Book
	,__properties__: {set_sort:"set_sort",set_chapters:"set_chapters",set_info:"set_info",set_type:"set_type",set_access:"set_access",set_title:"set_title",set_id:"set_id"}
};
var data_Chapter = function(data1) {
	this.type = null;
	this.subchapters = [];
	this.sort = 0;
	this.text = "defaultChapterText";
	this.info = "defaultChapterInfo";
	this.access = 0;
	this.title = "defaultChapterTitle";
	this.id = "defaultChapterId";
	this.dbpath = "";
	this.path = "";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"id")) {
			this.set_id(data1.id);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"title")) {
			this.set_title(data1.title);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"access")) {
			this.set_access(data1.access);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"info")) {
			this.set_info(data1.info);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"text")) {
			this.set_text(data1.text);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"sort")) {
			this.set_sort(data1.sort);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"subchapters")) {
			this.set_subchapters(data1.subchapters);
		}
		if(Object.prototype.hasOwnProperty.call(data1,"type")) {
			this.set_type(data1.type);
		}
	}
};
$hxClasses["data.Chapter"] = data_Chapter;
data_Chapter.__name__ = ["data","Chapter"];
data_Chapter.__interfaces__ = [DataClass];
data_Chapter.prototype = {
	set_id: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.id.");
		}
		return this.id = v;
	}
	,set_title: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.title.");
		}
		return this.title = v;
	}
	,set_access: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.access.");
		}
		return this.access = v;
	}
	,set_info: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.info.");
		}
		return this.info = v;
	}
	,set_text: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.text.");
		}
		return this.text = v;
	}
	,set_sort: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.sort.");
		}
		return this.sort = v;
	}
	,set_subchapters: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.subchapters.");
		}
		return this.subchapters = v;
	}
	,set_type: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for Chapter.type.");
		}
		return this.type = v;
	}
	,__class__: data_Chapter
	,__properties__: {set_type:"set_type",set_subchapters:"set_subchapters",set_sort:"set_sort",set_text:"set_text",set_info:"set_info",set_access:"set_access",set_title:"set_title",set_id:"set_id"}
};
var data_IChaptertype = function() { };
$hxClasses["data.IChaptertype"] = data_IChaptertype;
data_IChaptertype.__name__ = ["data","IChaptertype"];
data_IChaptertype.__interfaces__ = [DataClass];
var data_StandardChaptertype = function() { };
$hxClasses["data.StandardChaptertype"] = data_StandardChaptertype;
data_StandardChaptertype.__name__ = ["data","StandardChaptertype"];
data_StandardChaptertype.__interfaces__ = [data_IChaptertype];
data_StandardChaptertype.validate = function(data1) {
	return [];
};
var data_VideoChaptertype = function(data1) {
	this.url = "/url/to/video";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"url")) {
			this.set_url(data1.url);
		}
	}
};
$hxClasses["data.VideoChaptertype"] = data_VideoChaptertype;
data_VideoChaptertype.__name__ = ["data","VideoChaptertype"];
data_VideoChaptertype.__interfaces__ = [data_IChaptertype];
data_VideoChaptertype.validate = function(data1) {
	return [];
};
data_VideoChaptertype.prototype = {
	set_url: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for VideoChaptertype.url.");
		}
		return this.url = v;
	}
	,__class__: data_VideoChaptertype
	,__properties__: {set_url:"set_url"}
};
var data_RosettaChaptertype = function(data1) {
	this.data = "{xyz:123}";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"data")) {
			this.set_data(data1.data);
		}
	}
};
$hxClasses["data.RosettaChaptertype"] = data_RosettaChaptertype;
data_RosettaChaptertype.__name__ = ["data","RosettaChaptertype"];
data_RosettaChaptertype.__interfaces__ = [data_IChaptertype];
data_RosettaChaptertype.validate = function(data1) {
	return [];
};
data_RosettaChaptertype.prototype = {
	set_data: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for RosettaChaptertype.data.");
		}
		return this.data = v;
	}
	,__class__: data_RosettaChaptertype
	,__properties__: {set_data:"set_data"}
};
var data_PdfChaptertype = function(data1) {
	this.filename = "/test.pdf";
	if(data1 != null) {
		if(Object.prototype.hasOwnProperty.call(data1,"filename")) {
			this.set_filename(data1.filename);
		}
	}
};
$hxClasses["data.PdfChaptertype"] = data_PdfChaptertype;
data_PdfChaptertype.__name__ = ["data","PdfChaptertype"];
data_PdfChaptertype.__interfaces__ = [data_IChaptertype];
data_PdfChaptertype.validate = function(data1) {
	return [];
};
data_PdfChaptertype.prototype = {
	set_filename: function(v) {
		if(v == null) {
			throw new js__$Boot_HaxeError("DataClass validation failed for PdfChaptertype.filename.");
		}
		return this.filename = v;
	}
	,__class__: data_PdfChaptertype
	,__properties__: {set_filename:"set_filename"}
};
var data_PitchChaptertype = function(data1) {
};
$hxClasses["data.PitchChaptertype"] = data_PitchChaptertype;
data_PitchChaptertype.__name__ = ["data","PitchChaptertype"];
data_PitchChaptertype.__interfaces__ = [data_IChaptertype];
data_PitchChaptertype.validate = function(data1) {
	return [];
};
data_PitchChaptertype.prototype = {
	__class__: data_PitchChaptertype
};
var data_ScorxmixerChaptertype = function(data1) {
};
$hxClasses["data.ScorxmixerChaptertype"] = data_ScorxmixerChaptertype;
data_ScorxmixerChaptertype.__name__ = ["data","ScorxmixerChaptertype"];
data_ScorxmixerChaptertype.__interfaces__ = [data_IChaptertype];
data_ScorxmixerChaptertype.validate = function(data1) {
	return [];
};
data_ScorxmixerChaptertype.prototype = {
	__class__: data_ScorxmixerChaptertype
};
var data_ContentFilters = function() { };
$hxClasses["data.ContentFilters"] = data_ContentFilters;
data_ContentFilters.__name__ = ["data","ContentFilters"];
data_ContentFilters.sort = function(ct) {
	var copy = ct.rooms.slice();
	copy.sort(function(a,b) {
		return a.sort - b.sort;
	});
	Lambda.iter(copy,function(room) {
		var copy1 = room.shelves.slice();
		copy1.sort(function(a1,b1) {
			return a1.sort - b1.sort;
		});
		Lambda.iter(copy1,function(shelf) {
			var copy2 = shelf.books.slice();
			copy2.sort(function(a2,b2) {
				return a2.sort - b2.sort;
			});
			return copy2;
		});
		return;
	});
	return ct;
};
var data_ContentLoader = function() {
};
$hxClasses["data.ContentLoader"] = data_ContentLoader;
data_ContentLoader.__name__ = ["data","ContentLoader"];
data_ContentLoader.prototype = {
	loadContent: function() {
		return data_ApiCalls.getRequest("/api/content-tree").then(function(item) {
			data_ContentModel.instance.set_content(dataclass_TypedJsonConverter.fromTypedJson(data_Content,item.data));
			return Promise.resolve(true);
		});
	}
	,__class__: data_ContentLoader
};
var data_ContentUtils = function() { };
$hxClasses["data.ContentUtils"] = data_ContentUtils;
data_ContentUtils.__name__ = ["data","ContentUtils"];
data_ContentUtils.getContentInit = function() {
	return new data_Content({ id : "tree0", rooms : [new data_Room({ id : "room0", title : "TestRoom", home : new data_Home({ title : "Här är titel för hemsidan", sections : [new data_SectionShelves({ sort : 200}),new data_SectionCells({ sort : 100, cells : [new data_TextCell({ title : "Cell0", gridColumn : "span 2", gridRow : "span 2", bgcolor : "#0F154D", url : "/content/room0/shelf1/book2", text : "#Välkommen till Körakademin hösten 2018!                        \r\n\r\n###Vi lyfter svensk körsång!\r\n\r\nKörakademin finns till för att ge dej som körsångare nya möjligheter att utvecklas. Vi spelar in mängder av körmusik som du hittar på scorx.org och vi skapar övningsmaterial för rösten, notläsning mm.\r\n\r\n                        "}),new data_VideoCell({ gridColumn : "span 2"}),new data_TextCell({ title : "Cell1", bgcolor : "#43245D", color : "white", gridColumn : "span 2", image : "", text : "\r\n\r\n## ScorX Player                        \r\n\r\när en musikmixer som hjälper dig att öva din körstämma hemma vid datorn eller i mobilen/plattan. Lyssna, följ med i notbilden och sjung med! \r\n\r\n"}),new data_TextCell({ title : "Cell1", bgcolor : "#0F154D", color : "white", gridColumn : "span 2", image : "", text : "\r\n\r\n##Körakademin Plus\r\n\r\när en kostnadsfri nätbaserad distanskurs för körsångare. Här får du fri tillgång till alla våra inspelningar och allt vårt övriga övningsmaterial för notläsning, gehör, rösten med mera. \r\n\r\n"}),new data_TextCell({ title : "Cell1", bgcolor : "#6E1841", color : "white", gridColumn : "span 2", image : "", text : "\r\n###Sjunger du i en Sensus-kör?                        \r\n\r\nSom registrerad körsångare i Sensus får du som medlemsförmån gratis använda 12 PLAY- titlar per termin ur vårt musikbibliotek i ScorX. Du får tillgång till detta genom att bli medlem i ScorX-gruppen **Körakademin Sensus**.\r\n\r\n"}),new data_TextCell({ title : "Cell1", bgcolor : "#6E1841", color : "white", gridColumn : "", image : "", text : "\r\n                        \r\n###Sök bland 800 Scorx-titlar                        \r\n\r\nNu kan du hitta ännu fler...\r\n\r\n"}),new data_TextCell({ title : "Cell1", bgcolor : "#312632", color : "white", gridColumn : "", image : "", text : "\r\n                        \r\n###Möt våra inspelningsteam                        \r\n\r\nHundratals sånger finns inspelade i ScorX bibliotek. Men vilka är rösterna bakom inspelningarna? \r\n\r\n"})]})]}), shelves : [new data_Shelf({ id : "shelf0", title : "Default page shelves", access : 0, books : [new data_Book({ id : "book0", title : "Bok 0", access : 0, chapters : [new data_Chapter({ id : "chapter0", title : "Kapitel 1", access : 1, subchapters : [new data_Chapter({ id : "sub0", title : "Sub", access : 0}),new data_Chapter({ id : "vidc1", title : "Video", access : 0, type : new data_VideoChaptertype({ url : "/assets/video/tada.mp4"})}),new data_Chapter({ id : "pdf1", title : "Pdf", access : 0, type : new data_PdfChaptertype()}),new data_Chapter({ id : "ros0", title : "Rosetta", access : 0, type : new data_RosettaChaptertype()}),new data_Chapter({ id : "pitch1", title : "Pitch", access : 0, type : new data_PitchChaptertype()})]}),new data_Chapter({ id : "vidc1", title : "Videokapitel 1", type : new data_VideoChaptertype({ url : "/assets/video/tada.mp4"})}),new data_Chapter({ id : "pdf1", title : "Pdfkapitel 1", type : new data_PdfChaptertype()}),new data_Chapter({ id : "rosetta1", title : "Rosetta 1", type : new data_RosettaChaptertype()}),new data_Chapter({ id : "pitch1", title : "Pitch 1", type : new data_PitchChaptertype()}),new data_Chapter({ id : "scorx1", title : "Scorxmixer 1", type : new data_ScorxmixerChaptertype()})]}),new data_Book({ id : "book1", title : "Bok 1", access : 1, chapters : [new data_Chapter({ id : "chapter0", title : "Kapitel 1", access : 1, subchapters : [new data_Chapter({ id : "sub0", title : "Sub0", access : 0}),new data_Chapter({ id : "sub1", title : "Sub1", access : 0})]})]})]}),new data_Shelf({ id : "shelf1", title : "Ytterligare en bokhylla", access : 0, books : [new data_Book({ id : "book2", title : "En bok bland alla andra", access : 0, chapters : [new data_Chapter({ id : "chapter0", title : "Chapter Access 0", access : 0, subchapters : []}),new data_Chapter({ id : "chapter1", title : "Chapter Access 1", access : 1, subchapters : []}),new data_Chapter({ id : "chapter2", title : "Chapter Access 2", access : 2, subchapters : []})]})]})]})]});
};
var data_ContentModel = function() {
	console.log("src/data/ContentModel.hx:15:","new content");
	this.set_content(data_ContentUtils.getContentInit());
};
$hxClasses["data.ContentModel"] = data_ContentModel;
data_ContentModel.__name__ = ["data","ContentModel"];
data_ContentModel.prototype = {
	set_content: function(u) {
		var updatePaths = function(tree) {
			tree.path = "";
			Lambda.iter(tree.rooms,function(room) {
				room.path = tree.path + "/" + room.id;
				Lambda.iter(room.shelves,function(shelf) {
					shelf.path = room.path + "/" + shelf.id;
					Lambda.iter(shelf.books,function(book) {
						book.path = shelf.path + "/" + book.id;
						Lambda.iter(book.chapters,function(chapter) {
							chapter.path = book.path + "/" + chapter.id;
							Lambda.iter(chapter.subchapters,function(sub) {
								return sub.path = chapter.path + "/" + sub.id;
							});
							return;
						});
						return;
					});
					return;
				});
				return;
			});
		};
		var updateDbPaths = function(tree1) {
			tree1.dbpath = "content-tree";
			Lambda.iter(tree1.rooms,function(room1) {
				var updateDbPaths1 = tree1.dbpath + "/rooms/";
				var updateDbPaths2 = tree1.rooms.indexOf(room1);
				room1.dbpath = updateDbPaths1 + updateDbPaths2;
				Lambda.iter(room1.shelves,function(shelf1) {
					var updateDbPaths3 = room1.dbpath + "/shelves/";
					var updateDbPaths4 = room1.shelves.indexOf(shelf1);
					shelf1.dbpath = updateDbPaths3 + updateDbPaths4;
					Lambda.iter(shelf1.books,function(book1) {
						var updateDbPaths5 = shelf1.dbpath + "/books/";
						var updateDbPaths6 = shelf1.books.indexOf(book1);
						book1.dbpath = updateDbPaths5 + updateDbPaths6;
						Lambda.iter(book1.chapters,function(chapter1) {
							var updateDbPaths7 = book1.dbpath + "/chapters/";
							var updateDbPaths8 = book1.chapters.indexOf(chapter1);
							chapter1.dbpath = updateDbPaths7 + updateDbPaths8;
							Lambda.iter(chapter1.subchapters,function(sub1) {
								return sub1.dbpath = chapter1.dbpath + "/subchapters/" + chapter1.subchapters.indexOf(sub1);
							});
							return;
						});
						return;
					});
					return;
				});
				return;
			});
		};
		this.content = u;
		updatePaths(this.content);
		updateDbPaths(this.content);
		m.redraw();
		return u;
	}
	,__class__: data_ContentModel
	,__properties__: {set_content:"set_content"}
};
var data_ErrorsAndLogs = function() { };
$hxClasses["data.ErrorsAndLogs"] = data_ErrorsAndLogs;
data_ErrorsAndLogs.__name__ = ["data","ErrorsAndLogs"];
data_ErrorsAndLogs.addLog = function(log) {
	data_ErrorsAndLogs.logs.unshift(log);
	console.log("src/data/ErrorsAndLogs.hx:14:",log);
};
data_ErrorsAndLogs.addError = function(e) {
	data_ErrorsAndLogs.errors.unshift(e);
	console.log("src/data/ErrorsAndLogs.hx:26:",e);
};
var data_FilterModel = function() {
};
$hxClasses["data.FilterModel"] = data_FilterModel;
data_FilterModel.__name__ = ["data","FilterModel"];
data_FilterModel.prototype = {
	setFilterContent: function(ref) {
		this.filterContent = ref;
		data_PagesModel.instance.setPageFromContentRef(ref);
		m.redraw();
	}
	,getRoom: function() {
		var _gthis = this;
		try {
			return data_ContentModel.instance.content.rooms.filter(function(room) {
				return room.id == _gthis.filterContent.roomId;
			})[0];
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return data_ContentModel.instance.content.rooms[0];
		}
	}
	,getShelves: function() {
		var _gthis = this;
		try {
			var shelves = this.getRoom().shelves;
			if(this.filterContent != null && this.filterContent.shelfId != null) {
				shelves = shelves.filter(function(shelf) {
					return shelf.id == _gthis.filterContent.shelfId;
				});
			}
			return shelves;
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return [];
		}
	}
	,getShelf: function() {
		var _gthis = this;
		try {
			return this.getRoom().shelves.filter(function(shelf) {
				return shelf.id == _gthis.filterContent.shelfId;
			})[0];
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,getBook: function() {
		var _gthis = this;
		try {
			return this.getShelf().books.filter(function(book) {
				return book.id == _gthis.filterContent.bookId;
			})[0];
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,getChapters: function() {
		try {
			return this.getBook().chapters;
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,getChapter: function() {
		var _gthis = this;
		try {
			if(this.filterContent.chapterId != null) {
				return this.getChapters().filter(function(chapter) {
					return chapter.id == _gthis.filterContent.chapterId;
				})[0];
			} else {
				return this.getChapters()[0];
			}
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,getSubchapters: function() {
		try {
			return this.getChapter().subchapters;
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,getSubchapter: function() {
		var _gthis = this;
		try {
			if(this.filterContent.subchapterId != null) {
				return this.getSubchapters().filter(function(sub) {
					return sub.id == _gthis.filterContent.subchapterId;
				})[0];
			} else {
				return this.getSubchapters()[0];
			}
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return null;
		}
	}
	,__class__: data_FilterModel
};
var data_FirebaseModel = function() {
	this.app = null;
};
$hxClasses["data.FirebaseModel"] = data_FirebaseModel;
data_FirebaseModel.__name__ = ["data","FirebaseModel"];
data_FirebaseModel.prototype = {
	init: function() {
		this.app = firebase.initializeApp({ apiKey : "AIzaSyBGLErhUSfQHA4wOtkid206KVE-96QEN04", authDomain : "fb-stack.firebaseapp.com", databaseURL : "https://fb-stack.firebaseio.com", projectId : "fb-stack", storageBucket : "fb-stack.appspot.com", messagingSenderId : "665827748546"});
	}
	,__class__: data_FirebaseModel
};
var data_PagesModel = function() {
	this.pageWidth = "50%";
	this.pageIdx = 0;
};
$hxClasses["data.PagesModel"] = data_PagesModel;
data_PagesModel.__name__ = ["data","PagesModel"];
data_PagesModel.prototype = {
	set_pageIdx: function(val) {
		this.pageIdx = val;
		m.redraw();
		return this.pageIdx;
	}
	,set_pageWidth: function(val) {
		this.pageWidth = val;
		m.redraw();
		return this.pageWidth;
	}
	,setPageFromContentRef: function(ref) {
		var pageIndex = 0;
		if(ref.subchapterId != null) {
			pageIndex = 2;
		} else if(ref.chapterId != null) {
			pageIndex = 2;
		} else if(ref.bookId != null) {
			pageIndex = 2;
		} else if(ref.shelfId != null) {
			pageIndex = 1;
		} else if(ref.roomId != null) {
			pageIndex = 0;
		}
		this.set_pageIdx(pageIndex);
	}
	,__class__: data_PagesModel
	,__properties__: {set_pageWidth:"set_pageWidth",set_pageIdx:"set_pageIdx"}
};
var data_PdfModel = function() {
	this.map = new haxe_ds_StringMap();
};
$hxClasses["data.PdfModel"] = data_PdfModel;
data_PdfModel.__name__ = ["data","PdfModel"];
data_PdfModel.prototype = {
	getPages: function(filename) {
		var _gthis = this;
		var _this = this.map;
		if(__map_reserved[filename] != null ? _this.existsReserved(filename) : _this.h.hasOwnProperty(filename)) {
			var _this1 = this.map;
			if(__map_reserved[filename] != null) {
				return _this1.getReserved(filename);
			} else {
				return _this1.h[filename];
			}
		}
		var _this2 = this.map;
		if(__map_reserved[filename] != null) {
			_this2.setReserved(filename,null);
		} else {
			_this2.h[filename] = null;
		}
		var pdfdoc = new pdfjs_PDFDoc(filename);
		Promise.all([pdfdoc.renderPage(1),pdfdoc.renderPage(2),pdfdoc.renderPage(3)]).then(function(cs) {
			var canvases = cs;
			var _this3 = _gthis.map;
			if(__map_reserved[filename] != null) {
				_this3.setReserved(filename,canvases);
			} else {
				_this3.h[filename] = canvases;
			}
			m.redraw();
			return null;
		});
		return [];
	}
	,__class__: data_PdfModel
};
var data_Routes = function() {
	this.homeHandler = { onmatch : function(args,path) {
		try {
			data_ErrorsAndLogs.addLog("RouteResolver:" + path + ": " + Std.string(args) + "");
			data_FilterModel.instance.setFilterContent(null);
		} catch( e ) {
			data_ErrorsAndLogs.addError("RouteResolver roomHandler Error: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
		return null;
	}, render : function(vnode) {
		return m.m("div","homeHandler");
	}};
	this.shelvesHandler = { onmatch : function(args1,path1) {
		try {
			data_ErrorsAndLogs.addLog("RouteResolver:" + path1 + ": " + Std.string(args1) + "");
			data_FilterModel.instance.setFilterContent(args1);
			data_PagesModel.instance.set_pageIdx(1);
		} catch( e1 ) {
			data_ErrorsAndLogs.addError("RouteResolver roomHandler Error: " + Std.string((e1 instanceof js__$Boot_HaxeError) ? e1.val : e1));
		}
		return null;
	}, render : function(vnode1) {
		return m.m("div","homeHandler");
	}};
	this.contentHandler = { onmatch : function(args2,path2) {
		try {
			data_ErrorsAndLogs.addLog("RouteResolver:" + path2 + ": " + Std.string(args2) + "");
			data_FilterModel.instance.setFilterContent(args2);
		} catch( e2 ) {
			data_ErrorsAndLogs.addError("RouteResolver roomHandler Error: " + Std.string((e2 instanceof js__$Boot_HaxeError) ? e2.val : e2));
		}
		return null;
	}, render : function(vnode2) {
		return m.m("div","homeHandler");
	}};
};
$hxClasses["data.Routes"] = data_Routes;
data_Routes.__name__ = ["data","Routes"];
data_Routes.prototype = {
	init: function() {
		var routes = { "/" : this.homeHandler, "/content/:roomId" : this.contentHandler, "/content/:roomId/shelves" : this.shelvesHandler, "/content/:roomId/:shelfId" : this.contentHandler, "/content/:roomId/:shelfId/:bookId" : this.contentHandler, "/content/:roomId/:shelfId/:bookId/:chapterId" : this.contentHandler, "/content/:roomId/:shelfId/:bookId/:chapterId/:subchapterId" : this.contentHandler};
		m.route(window.document.querySelector("#routes"),"/",routes);
	}
	,__class__: data_Routes
};
var data_UserLoader = function() {
};
$hxClasses["data.UserLoader"] = data_UserLoader;
data_UserLoader.__name__ = ["data","UserLoader"];
data_UserLoader.prototype = {
	startSession: function() {
		data_UserModel.instance.set_userState(data_UserMode.Loading);
		return data_UserLoader.instance.getCurrentBrowserUser().then(function(browserUser) {
			if(browserUser == null) {
				data_UserModel.instance.set_userState(data_UserMode.Anonymous);
				return null;
			}
			console.log("src/data/UserLoader.hx:25:","Browser user found");
			return data_ApiCalls.getAuthRequest("/api/userconfig");
		}).then(function(dataResponse) {
			console.log("src/data/UserLoader.hx:29:",dataResponse);
			if(dataResponse == null) {
				return;
			}
			data_UserModel.instance.set_userState(data_UserMode.User(dataclass_JsonConverter.fromJson(data_UserData,dataResponse.userData)));
			console.log("src/data/UserLoader.hx:34:","------------------------------------");
			console.log("src/data/UserLoader.hx:35:","UserModelLoaded");
			return;
		}).then(function(val) {
			return data_UserLoader.instance.setupOnAuthChange();
		}).then(function(val1) {
			console.log("src/data/UserLoader.hx:42:","finished User loading!");
			return Promise.resolve(true);
		});
	}
	,signIn: function(email,password) {
		this.validate(email,password).then(function(valid) {
			data_UserModel.instance.set_userState(data_UserMode.Loading);
			return firebase.auth().signInWithEmailAndPassword(email,password);
		}).then(function(user) {
			console.log("src/data/UserLoader.hx:57:","USER " + user);
			return null;
		})["catch"](function(error) {
			console.log("src/data/UserLoader.hx:61:","ERROR" + error);
			console.log("src/data/UserLoader.hx:62:","error:" + error);
			data_UserModel.instance.set_userState(data_UserMode.Anonymous);
			return;
		});
	}
	,signOut: function() {
		firebase.auth().signOut();
		data_UserModel.instance.set_userState(data_UserMode.Anonymous);
	}
	,validate: function(email,password) {
		return new Promise(function(res,rej) {
			try {
				if(!utils__$UserEmail_UserEmail_$Impl_$.isValid(email)) {
					throw new js__$Boot_HaxeError("User email is not valid: " + email);
				}
				if(!utils__$UserPassword_UserPassword_$Impl_$.isValid(password)) {
					throw new js__$Boot_HaxeError("User password is not valid: " + password);
				}
				res(true);
			} catch( e ) {
				rej((e instanceof js__$Boot_HaxeError) ? e.val : e);
			}
			return;
		});
	}
	,getCurrentBrowserUser: function() {
		return new Promise(function(resolve,reject) {
			var unsubscribe = null;
			unsubscribe = firebase.app().auth().onAuthStateChanged(function(user) {
				unsubscribe();
				resolve(user);
				return;
			},reject);
			return unsubscribe;
		});
	}
	,setupOnAuthChange: function() {
		haxe_Timer.delay(function() {
			return firebase.app().auth().onAuthStateChanged(function(user) {
				if(user != null) {
					console.log("src/data/UserLoader.hx:103:","--- Browser session user found.");
					console.log("src/data/UserLoader.hx:105:","compare:" + user.email + " " + data__$UserModel_UserState_$Impl_$.toData(data_UserModel.instance.userState).email);
					var address = user.email;
					if(!utils__$UserEmail_UserEmail_$Impl_$.isValid(address)) {
						throw new js__$Boot_HaxeError("EmailAddress \"" + address + "\" is invalid");
					}
					if(address.toLowerCase() == data__$UserModel_UserState_$Impl_$.toData(data_UserModel.instance.userState).email) {
						return;
					}
					data_UserModel.instance.set_userState(data_UserMode.Loading);
					data_ApiCalls.getAuthRequest("/api/userconfig").then(function(dataResponse) {
						console.log("src/data/UserLoader.hx:113:","------------------------------------");
						console.log("src/data/UserLoader.hx:114:","UserModelLoaded : onAuthStateChanged");
						console.log("src/data/UserLoader.hx:115:","" + Std.string(dataResponse));
						return data_UserModel.instance.set_userState(data_UserMode.User(dataclass_JsonConverter.fromJson(data_UserData,dataResponse.userData)));
					})["catch"](function(error) {
						console.log("src/data/UserLoader.hx:121:","--- Could not load userconfig for browser session user");
						console.log("src/data/UserLoader.hx:122:",error);
						return;
					});
					return;
				} else {
					console.log("src/data/UserLoader.hx:128:","--- No browser session user found.");
					data_UserModel.instance.set_userState(data_UserMode.Anonymous);
					return;
				}
			},function(error1) {
				console.log("src/data/UserLoader.hx:133:","--- Error: " + Std.string(error1));
				return data_UserModel.instance.set_userState(data_UserMode.Anonymous);
			});
		},2000);
		return Promise.resolve(true);
	}
	,__class__: data_UserLoader
};
var data_UserModel = function() {
	this.userState = data_UserMode.Anonymous;
};
$hxClasses["data.UserModel"] = data_UserModel;
data_UserModel.__name__ = ["data","UserModel"];
data_UserModel.prototype = {
	get_user: function() {
		return data__$UserModel_UserState_$Impl_$.toData(this.userState);
	}
	,set_userState: function(state) {
		this.userState = state;
		m.redraw();
		return this.userState;
	}
	,init: function() {
		this.set_userState(data_UserMode.Anonymous);
	}
	,__class__: data_UserModel
	,__properties__: {set_userState:"set_userState",get_user:"get_user"}
};
var data__$UserModel_UserState_$Impl_$ = {};
$hxClasses["data._UserModel.UserState_Impl_"] = data__$UserModel_UserState_$Impl_$;
data__$UserModel_UserState_$Impl_$.__name__ = ["data","_UserModel","UserState_Impl_"];
data__$UserModel_UserState_$Impl_$.toData = function(this1) {
	switch(this1._hx_index) {
	case 0:
		return { userData : { firstname : "Anonymous", lastname : "Anonymousson", email : "anon@anon.abc", domains : ["domain1"], access : 0}, userConfig : { domain : "domain1"}};
	case 1:
		return { userData : { firstname : "Anonymous", lastname : "Anonymousson", email : "anon@anon.abc", domains : ["domain1"], access : 0}, userConfig : { domain : "domain1"}};
	case 2:
		return this1.user;
	}
};
var data_UserMode = $hxEnums["data.UserMode"] = { __ename__ : true, __constructs__ : ["Anonymous","Loading","User"]
	,Anonymous: {_hx_index:0,__enum__:"data.UserMode",toString:$estr}
	,Loading: {_hx_index:1,__enum__:"data.UserMode",toString:$estr}
	,User: ($_=function(user) { return {_hx_index:2,user:user,__enum__:"data.UserMode",toString:$estr}; },$_.__params__ = ["user"],$_)
};
var dataclass_CircularReferenceHandling = $hxEnums["dataclass.CircularReferenceHandling"] = { __ename__ : true, __constructs__ : ["ThrowException","SetToNull","TrackReferences"]
	,ThrowException: {_hx_index:0,__enum__:"dataclass.CircularReferenceHandling",toString:$estr}
	,SetToNull: {_hx_index:1,__enum__:"dataclass.CircularReferenceHandling",toString:$estr}
	,TrackReferences: {_hx_index:2,__enum__:"dataclass.CircularReferenceHandling",toString:$estr}
};
var dataclass_Rtti = function() { };
$hxClasses["dataclass.Rtti"] = dataclass_Rtti;
dataclass_Rtti.__name__ = ["dataclass","Rtti"];
dataclass_Rtti.rttiData = function(cls) {
	return haxe_rtti_Meta.getType(cls)["dataClassRtti"][0];
};
var dataclass_Converter = function(options) {
	this.useClassInfo = false;
	if(options == null) {
		options = { };
	}
	this.valueConverters = new haxe_ds_StringMap();
	var this1 = this.valueConverters;
	var value = new dataclass_DateValueConverter(Object.prototype.hasOwnProperty.call(options,"dateFormat") ? options.dateFormat : "%Y-%m-%dT%H:%M:%SZ");
	var _this = this1;
	if(__map_reserved["Date"] != null) {
		_this.setReserved("Date",value);
	} else {
		_this.h["Date"] = value;
	}
	this.circularReferences = Object.prototype.hasOwnProperty.call(options,"circularReferences") ? options.circularReferences : dataclass_CircularReferenceHandling.ThrowException;
};
$hxClasses["dataclass.Converter"] = dataclass_Converter;
dataclass_Converter.__name__ = ["dataclass","Converter"];
dataclass_Converter.enumType = function(name) {
	var _this = dataclass_Converter.enumCache;
	if(__map_reserved[name] != null ? _this.existsReserved(name) : _this.h.hasOwnProperty(name)) {
		var _this1 = dataclass_Converter.enumCache;
		if(__map_reserved[name] != null) {
			return _this1.getReserved(name);
		} else {
			return _this1.h[name];
		}
	}
	var output = $hxEnums[name];
	if(output == null) {
		throw new js__$Boot_HaxeError("Enum not found: " + name);
	}
	var _this2 = dataclass_Converter.enumCache;
	if(__map_reserved[name] != null) {
		_this2.setReserved(name,output);
	} else {
		_this2.h[name] = output;
	}
	return output;
};
dataclass_Converter.classType = function(name) {
	var _this = dataclass_Converter.classCache;
	if(__map_reserved[name] != null ? _this.existsReserved(name) : _this.h.hasOwnProperty(name)) {
		var _this1 = dataclass_Converter.classCache;
		if(__map_reserved[name] != null) {
			return _this1.getReserved(name);
		} else {
			return _this1.h[name];
		}
	}
	var output = $hxClasses[name];
	if(output == null) {
		throw new js__$Boot_HaxeError("Class not found: " + name);
	}
	var _this2 = dataclass_Converter.classCache;
	if(__map_reserved[name] != null) {
		_this2.setReserved(name,output);
	} else {
		_this2.h[name] = output;
	}
	return output;
};
dataclass_Converter.prototype = {
	toDataClass: function(cls,json) {
		var refCount = new haxe_ds_IntMap();
		var refAssign = new haxe_ds_IntMap();
		var output = this._toDataClass(cls,json,refCount,refAssign);
		this.assignReferences(refCount,refAssign);
		return output;
	}
	,assignReferences: function(refCount,refAssign) {
		var refId = refAssign.keys();
		while(refId.hasNext()) {
			var refId1 = refId.next();
			var _g = 0;
			var _g1 = refAssign.h[refId1];
			while(_g < _g1.length) {
				var data = _g1[_g];
				++_g;
				Reflect.setProperty(refCount.h[refId1],data.field,refCount.h[data.obj]);
			}
		}
	}
	,_toAnonymousStructure: function(cls,inputData,refCount,refAssign,currentId,toDataClass) {
		var rtti = dataclass_Rtti.rttiData(cls);
		var outputData = { };
		if(this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences && !toDataClass && Object.prototype.hasOwnProperty.call(inputData,"$id")) {
			currentId = inputData["$id"];
		}
		var _g = 0;
		var _g1 = Reflect.fields(rtti);
		while(_g < _g1.length) {
			var field = _g1[_g];
			++_g;
			if(Object.prototype.hasOwnProperty.call(inputData,field)) {
				var input = inputData[field];
				var data = rtti[field];
				if(this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences && input != null && Object.prototype.hasOwnProperty.call(input,"$ref") && (StringTools.startsWith(data,"DataClass<") || StringTools.startsWith(data,"Interface<"))) {
					var refData = { obj : Reflect.field(input,"$ref"), field : field};
					if(!refAssign.h.hasOwnProperty(currentId)) {
						refAssign.h[currentId] = [refData];
					} else {
						refAssign.h[currentId].push(refData);
					}
				} else {
					outputData[field] = this.toField(rtti[field],input,refCount,refAssign,toDataClass);
				}
			}
		}
		if(this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences && !toDataClass && currentId > 0) {
			refCount.h[currentId] = outputData;
		}
		return outputData;
	}
	,_toDataClass: function(cls,json,refCount,refAssign) {
		var inputData = json;
		var currentId = 0;
		if(this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences && Object.prototype.hasOwnProperty.call(inputData,"$id")) {
			currentId = inputData["$id"];
		}
		var output = Type.createInstance(cls,[this._toAnonymousStructure(cls,inputData,refCount,refAssign,currentId,true)]);
		if(currentId > 0 && this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences) {
			refCount.h[currentId] = output;
		}
		return output;
	}
	,toField: function(data,value,refCount,refAssign,toDataClass) {
		if(value == null) {
			if(StringTools.startsWith(data,"Option<")) {
				return haxe_ds_Option.None;
			} else {
				return value;
			}
		}
		var _this = this.valueConverters;
		if(__map_reserved[data] != null ? _this.existsReserved(data) : _this.h.hasOwnProperty(data)) {
			var _this1 = this.valueConverters;
			return (__map_reserved[data] != null ? _this1.getReserved(data) : _this1.h[data]).input(value);
		} else if(Lambda.has(dataclass_Converter.directConversions,data)) {
			return value;
		} else if(StringTools.startsWith(data,"Array<")) {
			var arrayType = data.substring(6,data.length - 1);
			var _g = [];
			var _g1 = 0;
			var _g2 = js_Boot.__cast(value , Array);
			while(_g1 < _g2.length) _g.push(this.toField(arrayType,_g2[_g1++],refCount,refAssign,toDataClass));
			return _g;
		} else if(StringTools.startsWith(data,"Enum<")) {
			return Type.createEnum(dataclass_Converter.enumType(data.substring(5,data.length - 1)),value);
		} else if(StringTools.startsWith(data,"DataClass<") || StringTools.startsWith(data,"Interface<")) {
			if(StringTools.startsWith(data,"Interface<") && !this.useClassInfo) {
				throw new js__$Boot_HaxeError("Cannot instantiate interface " + data.substring(10,data.length - 1) + ", please use TypedJsonConverter instead.");
			}
			var classT = this.useClassInfo ? dataclass_Converter.classType(Reflect.field(value,dataclass_Converter.typedClassFieldName)) : dataclass_Converter.classType(data.substring(10,data.length - 1));
			if(toDataClass) {
				return this._toDataClass(classT,value,refCount,refAssign);
			} else {
				return this._toAnonymousStructure(classT,value,refCount,refAssign,0,toDataClass);
			}
		} else if(StringTools.startsWith(data,"Option<")) {
			return haxe_ds_Option.Some(this.toField(data.substring(7,data.length - 1),value,refCount,refAssign,toDataClass));
		} else if(StringTools.startsWith(data,"StringMap<")) {
			var mapType = data.substring(10,data.length - 1);
			var output = new haxe_ds_StringMap();
			var object = value;
			var _g3 = 0;
			var _g11 = Reflect.fields(object);
			while(_g3 < _g11.length) {
				var key = _g11[_g3];
				++_g3;
				var value1 = this.toField(mapType,object[key],refCount,refAssign,toDataClass);
				if(__map_reserved[key] != null) {
					output.setReserved(key,value1);
				} else {
					output.h[key] = value1;
				}
			}
			return output;
		} else if(StringTools.startsWith(data,"IntMap<")) {
			var mapType1 = data.substring(7,data.length - 1);
			var output1 = new haxe_ds_IntMap();
			var object1 = value;
			var _g4 = 0;
			var _g12 = Reflect.fields(object1);
			while(_g4 < _g12.length) {
				var key1 = _g12[_g4];
				++_g4;
				var key2 = Std.parseInt(key1);
				var value2 = this.toField(mapType1,object1[key1],refCount,refAssign,toDataClass);
				output1.h[key2] = value2;
			}
			return output1;
		} else {
			throw new js__$Boot_HaxeError("Unsupported DataClass converter: " + data);
		}
	}
	,fromDataClass: function(cls) {
		return this._fromDataClass(cls,new haxe_ds_ObjectMap(),0);
	}
	,_fromDataClass: function(dataClass,refs,refcounter) {
		if(refs.h.__keys__[dataClass.__id__] != null) {
			switch(this.circularReferences._hx_index) {
			case 0:
				throw new js__$Boot_HaxeError("Converting circular DataClass structure.");
			case 1:
				return null;
			case 2:
				return { "$ref" : refs.h[dataClass.__id__]};
			}
		} else {
			refs.set(dataClass,++refcounter);
		}
		var outputData = this.circularReferences == dataclass_CircularReferenceHandling.TrackReferences ? { "$id" : refcounter} : { };
		var rtti = dataclass_Rtti.rttiData(dataClass == null ? null : js_Boot.getClass(dataClass));
		var _g = 0;
		var _g1 = Reflect.fields(rtti);
		while(_g < _g1.length) {
			var field = _g1[_g];
			++_g;
			var input = Reflect.getProperty(dataClass,field);
			outputData[field] = this.convertToJsonField(rtti[field],input,refs,refcounter);
		}
		if(this.circularReferences == dataclass_CircularReferenceHandling.SetToNull) {
			refs.remove(dataClass);
		}
		if(this.useClassInfo) {
			outputData[dataclass_Converter.typedClassFieldName] = Type.getClassName(dataClass == null ? null : js_Boot.getClass(dataClass));
		}
		return outputData;
	}
	,convertToJsonField: function(data,value,refs,refcounter) {
		if(value == null) {
			return value;
		}
		var _this = this.valueConverters;
		if(__map_reserved[data] != null ? _this.existsReserved(data) : _this.h.hasOwnProperty(data)) {
			var _this1 = this.valueConverters;
			return (__map_reserved[data] != null ? _this1.getReserved(data) : _this1.h[data]).output(value);
		} else if(Lambda.has(dataclass_Converter.directConversions,data)) {
			return value;
		} else if(StringTools.startsWith(data,"Array<")) {
			var arrayType = data.substring(6,data.length - 1);
			var _g = [];
			var _g1 = 0;
			var _g2 = js_Boot.__cast(value , Array);
			while(_g1 < _g2.length) _g.push(this.convertToJsonField(arrayType,_g2[_g1++],refs,refcounter));
			return _g;
		} else if(StringTools.startsWith(data,"Enum<")) {
			return Std.string(value);
		} else if(StringTools.startsWith(data,"DataClass<") || StringTools.startsWith(data,"Interface<")) {
			if(StringTools.startsWith(data,"Interface<") && !this.useClassInfo) {
				throw new js__$Boot_HaxeError("Cannot convert interface " + data.substring(6,data.length - 1) + " to JSON, use TypedJsonConverter instead.");
			}
			return this._fromDataClass(value,refs,refcounter);
		} else if(StringTools.startsWith(data,"Option<")) {
			var option = value;
			switch(option._hx_index) {
			case 0:
				return option.v;
			case 1:
				return null;
			}
		} else if(StringTools.startsWith(data,"StringMap<")) {
			var mapType = data.substring(10,data.length - 1);
			var map = js_Boot.__cast(value , haxe_ds_StringMap);
			var output = { };
			var key = map.keys();
			while(key.hasNext()) {
				var key1 = key.next();
				output[key1] = this.convertToJsonField(mapType,__map_reserved[key1] != null ? map.getReserved(key1) : map.h[key1],refs,refcounter);
			}
			return output;
		} else if(StringTools.startsWith(data,"IntMap<")) {
			var mapType1 = data.substring(7,data.length - 1);
			var map1 = js_Boot.__cast(value , haxe_ds_IntMap);
			var output1 = { };
			var key2 = map1.keys();
			while(key2.hasNext()) {
				var key3 = key2.next();
				var value1 = this.convertToJsonField(mapType1,map1.h[key3],refs,refcounter);
				output1[key3 == null ? "null" : "" + key3] = value1;
			}
			return output1;
		} else {
			throw new js__$Boot_HaxeError("Unsupported DataClass converter: " + data);
		}
	}
	,__class__: dataclass_Converter
};
var dataclass_DateValueConverter = function(format) {
	this.format = format;
};
$hxClasses["dataclass.DateValueConverter"] = dataclass_DateValueConverter;
dataclass_DateValueConverter.__name__ = ["dataclass","DateValueConverter"];
dataclass_DateValueConverter.getTimeZone = function() {
	var now = new Date();
	now = new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0);
	return 86400000. * Math.round(now.getTime() / 24 / 3600 / 1000) - now.getTime();
};
dataclass_DateValueConverter.prototype = {
	input: function(input) {
		var s = StringTools.trim(input);
		if(StringTools.endsWith(s,"Z")) {
			return new Date(s);
		}
		return HxOverrides.strDate(s);
	}
	,output: function(input) {
		var time;
		if(StringTools.endsWith(this.format,"Z")) {
			var t = -dataclass_DateValueConverter.getTimeZone();
			time = new Date(input.getTime() + t);
		} else {
			time = input;
		}
		return DateTools.format(time,this.format);
	}
	,__class__: dataclass_DateValueConverter
};
var dataclass_JsonConverter = function(options) {
	dataclass_Converter.call(this,options);
};
$hxClasses["dataclass.JsonConverter"] = dataclass_JsonConverter;
dataclass_JsonConverter.__name__ = ["dataclass","JsonConverter"];
dataclass_JsonConverter.fromJson = function(cls,json) {
	return dataclass_JsonConverter.current.toDataClass(cls,json);
};
dataclass_JsonConverter.__super__ = dataclass_Converter;
dataclass_JsonConverter.prototype = $extend(dataclass_Converter.prototype,{
	__class__: dataclass_JsonConverter
});
var dataclass_TypedJsonConverter = function(options) {
	dataclass_Converter.call(this,options);
	this.useClassInfo = true;
};
$hxClasses["dataclass.TypedJsonConverter"] = dataclass_TypedJsonConverter;
dataclass_TypedJsonConverter.__name__ = ["dataclass","TypedJsonConverter"];
dataclass_TypedJsonConverter.fromTypedJson = function(cls,json) {
	return dataclass_TypedJsonConverter.current.toDataClass(cls,json);
};
dataclass_TypedJsonConverter.toTypedJson = function(cls) {
	return dataclass_TypedJsonConverter.current.fromDataClass(cls);
};
dataclass_TypedJsonConverter.__super__ = dataclass_Converter;
dataclass_TypedJsonConverter.prototype = $extend(dataclass_Converter.prototype,{
	__class__: dataclass_TypedJsonConverter
});
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
$hxClasses["haxe.Timer"] = haxe_Timer;
haxe_Timer.__name__ = ["haxe","Timer"];
haxe_Timer.delay = function(f,time_ms) {
	var t = new haxe_Timer(time_ms);
	t.run = function() {
		t.stop();
		f();
	};
	return t;
};
haxe_Timer.prototype = {
	stop: function() {
		if(this.id == null) {
			return;
		}
		clearInterval(this.id);
		this.id = null;
	}
	,run: function() {
	}
	,__class__: haxe_Timer
};
var haxe_ds_IntMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.IntMap"] = haxe_ds_IntMap;
haxe_ds_IntMap.__name__ = ["haxe","ds","IntMap"];
haxe_ds_IntMap.__interfaces__ = [haxe_IMap];
haxe_ds_IntMap.prototype = {
	keys: function() {
		var a = [];
		for( var key in this.h ) if(this.h.hasOwnProperty(key)) {
			a.push(key | 0);
		}
		return HxOverrides.iter(a);
	}
	,__class__: haxe_ds_IntMap
};
var haxe_ds_List = function() {
	this.length = 0;
};
$hxClasses["haxe.ds.List"] = haxe_ds_List;
haxe_ds_List.__name__ = ["haxe","ds","List"];
haxe_ds_List.prototype = {
	add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,iterator: function() {
		return new haxe_ds__$List_ListIterator(this.h);
	}
	,__class__: haxe_ds_List
};
var haxe_ds__$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
$hxClasses["haxe.ds._List.ListNode"] = haxe_ds__$List_ListNode;
haxe_ds__$List_ListNode.__name__ = ["haxe","ds","_List","ListNode"];
haxe_ds__$List_ListNode.prototype = {
	__class__: haxe_ds__$List_ListNode
};
var haxe_ds__$List_ListIterator = function(head) {
	this.head = head;
};
$hxClasses["haxe.ds._List.ListIterator"] = haxe_ds__$List_ListIterator;
haxe_ds__$List_ListIterator.__name__ = ["haxe","ds","_List","ListIterator"];
haxe_ds__$List_ListIterator.prototype = {
	hasNext: function() {
		return this.head != null;
	}
	,next: function() {
		var val = this.head.item;
		this.head = this.head.next;
		return val;
	}
	,__class__: haxe_ds__$List_ListIterator
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
$hxClasses["haxe.ds.ObjectMap"] = haxe_ds_ObjectMap;
haxe_ds_ObjectMap.__name__ = ["haxe","ds","ObjectMap"];
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.prototype = {
	set: function(key,value) {
		var id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,remove: function(key) {
		var id = key.__id__;
		if(this.h.__keys__[id] == null) {
			return false;
		}
		delete(this.h[id]);
		delete(this.h.__keys__[id]);
		return true;
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds_Option = $hxEnums["haxe.ds.Option"] = { __ename__ : true, __constructs__ : ["Some","None"]
	,Some: ($_=function(v) { return {_hx_index:0,v:v,__enum__:"haxe.ds.Option",toString:$estr}; },$_.__params__ = ["v"],$_)
	,None: {_hx_index:1,__enum__:"haxe.ds.Option",toString:$estr}
};
var haxe_rtti_Meta = function() { };
$hxClasses["haxe.rtti.Meta"] = haxe_rtti_Meta;
haxe_rtti_Meta.__name__ = ["haxe","rtti","Meta"];
haxe_rtti_Meta.getType = function(t) {
	var meta = haxe_rtti_Meta.getMeta(t);
	if(meta == null || meta.obj == null) {
		return { };
	} else {
		return meta.obj;
	}
};
haxe_rtti_Meta.getMeta = function(t) {
	return t.__meta__;
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
$hxClasses["js._Boot.HaxeError"] = js__$Boot_HaxeError;
js__$Boot_HaxeError.__name__ = ["js","_Boot","HaxeError"];
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = ["js","Boot"];
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if((o instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g11 = 0;
			var _g3 = l;
			while(_g11 < _g3) {
				var i1 = _g11++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			var e2 = (e1 instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = intf[_g1++];
			if(i == cl || js_Boot.__interfLoop(i,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if((o instanceof cl)) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if((o instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return $hxEnums[o.__enum__] == cl;
	}
};
js_Boot.__cast = function(o,t) {
	if(js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var markdown_Node = function() { };
$hxClasses["markdown.Node"] = markdown_Node;
markdown_Node.__name__ = ["markdown","Node"];
var markdown_ElementNode = function(tag,children) {
	this.tag = tag;
	this.children = children;
	this.attributes = new haxe_ds_StringMap();
};
$hxClasses["markdown.ElementNode"] = markdown_ElementNode;
markdown_ElementNode.__name__ = ["markdown","ElementNode"];
markdown_ElementNode.__interfaces__ = [markdown_Node];
markdown_ElementNode.empty = function(tag) {
	return new markdown_ElementNode(tag,null);
};
markdown_ElementNode.withTag = function(tag) {
	return new markdown_ElementNode(tag,[]);
};
markdown_ElementNode.text = function(tag,text) {
	return new markdown_ElementNode(tag,[new markdown_TextNode(text)]);
};
markdown_ElementNode.prototype = {
	__class__: markdown_ElementNode
};
var markdown_TextNode = function(text) {
	this.text = text;
};
$hxClasses["markdown.TextNode"] = markdown_TextNode;
markdown_TextNode.__name__ = ["markdown","TextNode"];
markdown_TextNode.__interfaces__ = [markdown_Node];
markdown_TextNode.prototype = {
	__class__: markdown_TextNode
};
var markdown_BlockParser = function(lines,document) {
	this.lines = lines;
	this.document = document;
	this.pos = 0;
};
$hxClasses["markdown.BlockParser"] = markdown_BlockParser;
markdown_BlockParser.__name__ = ["markdown","BlockParser"];
markdown_BlockParser.prototype = {
	get_next: function() {
		if(this.pos >= this.lines.length - 1) {
			return null;
		}
		return this.lines[this.pos + 1];
	}
	,advance: function() {
		this.pos++;
	}
	,matches: function(ereg) {
		if(this.pos >= this.lines.length) {
			return false;
		}
		return ereg.match(this.lines[this.pos]);
	}
	,matchesNext: function(ereg) {
		if(this.get_next() == null) {
			return false;
		}
		return ereg.match(this.get_next());
	}
	,__class__: markdown_BlockParser
	,__properties__: {get_next:"get_next"}
};
var markdown_BlockSyntax = function() {
};
$hxClasses["markdown.BlockSyntax"] = markdown_BlockSyntax;
markdown_BlockSyntax.__name__ = ["markdown","BlockSyntax"];
markdown_BlockSyntax.__properties__ = {get_syntaxes:"get_syntaxes"};
markdown_BlockSyntax.get_syntaxes = function() {
	if(markdown_BlockSyntax.syntaxes == null) {
		markdown_BlockSyntax.syntaxes = [new markdown_EmptyBlockSyntax(),new markdown_BlockHtmlSyntax(),new markdown_SetextHeaderSyntax(),new markdown_HeaderSyntax(),new markdown_CodeBlockSyntax(),new markdown_GitHubCodeBlockSyntax(),new markdown_BlockquoteSyntax(),new markdown_HorizontalRuleSyntax(),new markdown_UnorderedListSyntax(),new markdown_OrderedListSyntax(),new markdown_TableSyntax(),new markdown_ParagraphSyntax()];
	}
	return markdown_BlockSyntax.syntaxes;
};
markdown_BlockSyntax.isAtBlockEnd = function(parser) {
	if(parser.pos >= parser.lines.length) {
		return true;
	}
	var _g = 0;
	var _g1 = markdown_BlockSyntax.get_syntaxes();
	while(_g < _g1.length) {
		var syntax = _g1[_g];
		++_g;
		if(syntax.canParse(parser) && syntax.get_canEndBlock()) {
			return true;
		}
	}
	return false;
};
markdown_BlockSyntax.prototype = {
	get_pattern: function() {
		return null;
	}
	,get_canEndBlock: function() {
		return true;
	}
	,canParse: function(parser) {
		return this.get_pattern().match(parser.lines[parser.pos]);
	}
	,parse: function(parser) {
		return null;
	}
	,__class__: markdown_BlockSyntax
	,__properties__: {get_canEndBlock:"get_canEndBlock",get_pattern:"get_pattern"}
};
var markdown_EmptyBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.EmptyBlockSyntax"] = markdown_EmptyBlockSyntax;
markdown_EmptyBlockSyntax.__name__ = ["markdown","EmptyBlockSyntax"];
markdown_EmptyBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_EmptyBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_EMPTY;
	}
	,parse: function(parser) {
		parser.advance();
		return null;
	}
	,__class__: markdown_EmptyBlockSyntax
});
var markdown_SetextHeaderSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.SetextHeaderSyntax"] = markdown_SetextHeaderSyntax;
markdown_SetextHeaderSyntax.__name__ = ["markdown","SetextHeaderSyntax"];
markdown_SetextHeaderSyntax.__super__ = markdown_BlockSyntax;
markdown_SetextHeaderSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	canParse: function(parser) {
		return parser.matchesNext(markdown_BlockSyntax.RE_SETEXT);
	}
	,parse: function(parser) {
		var re = markdown_BlockSyntax.RE_SETEXT;
		re.match(parser.get_next());
		var tag = re.matched(1).charAt(0) == "=" ? "h1" : "h2";
		var contents = parser.document.parseInline(parser.lines[parser.pos]);
		parser.advance();
		parser.advance();
		return new markdown_ElementNode(tag,contents);
	}
	,__class__: markdown_SetextHeaderSyntax
});
var markdown_HeaderSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.HeaderSyntax"] = markdown_HeaderSyntax;
markdown_HeaderSyntax.__name__ = ["markdown","HeaderSyntax"];
markdown_HeaderSyntax.__super__ = markdown_BlockSyntax;
markdown_HeaderSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HEADER;
	}
	,parse: function(parser) {
		this.get_pattern().match(parser.lines[parser.pos]);
		parser.advance();
		return new markdown_ElementNode("h" + this.get_pattern().matched(1).length,parser.document.parseInline(StringTools.trim(this.get_pattern().matched(2))));
	}
	,__class__: markdown_HeaderSyntax
});
var markdown_BlockquoteSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.BlockquoteSyntax"] = markdown_BlockquoteSyntax;
markdown_BlockquoteSyntax.__name__ = ["markdown","BlockquoteSyntax"];
markdown_BlockquoteSyntax.__super__ = markdown_BlockSyntax;
markdown_BlockquoteSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_BLOCKQUOTE;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length) if(this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(this.get_pattern().matched(1));
			parser.advance();
		} else {
			var nextMatch = parser.get_next() != null && this.get_pattern().match(parser.get_next());
			if(StringTools.trim(parser.lines[parser.pos]) == "" && nextMatch) {
				childLines.push("");
				childLines.push(this.get_pattern().matched(1));
				parser.advance();
				parser.advance();
			} else {
				break;
			}
		}
		return childLines;
	}
	,parse: function(parser) {
		var childLines = this.parseChildLines(parser);
		return new markdown_ElementNode("blockquote",parser.document.parseLines(childLines));
	}
	,__class__: markdown_BlockquoteSyntax
});
var markdown_CodeBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.CodeBlockSyntax"] = markdown_CodeBlockSyntax;
markdown_CodeBlockSyntax.__name__ = ["markdown","CodeBlockSyntax"];
markdown_CodeBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_CodeBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_INDENT;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length) if(this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(this.get_pattern().matched(1));
			parser.advance();
		} else {
			var nextMatch = parser.get_next() != null && this.get_pattern().match(parser.get_next());
			if(StringTools.trim(parser.lines[parser.pos]) == "" && nextMatch) {
				childLines.push("");
				childLines.push(this.get_pattern().matched(1));
				parser.advance();
				parser.advance();
			} else {
				break;
			}
		}
		return childLines;
	}
	,parse: function(parser) {
		var childLines = this.parseChildLines(parser);
		childLines.push("");
		return new markdown_ElementNode("pre",[markdown_ElementNode.text("code",StringTools.htmlEscape(childLines.join("\n")))]);
	}
	,__class__: markdown_CodeBlockSyntax
});
var markdown_GitHubCodeBlockSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.GitHubCodeBlockSyntax"] = markdown_GitHubCodeBlockSyntax;
markdown_GitHubCodeBlockSyntax.__name__ = ["markdown","GitHubCodeBlockSyntax"];
markdown_GitHubCodeBlockSyntax.__super__ = markdown_BlockSyntax;
markdown_GitHubCodeBlockSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_CODE;
	}
	,parseChildLines: function(parser) {
		var childLines = [];
		parser.advance();
		while(parser.pos < parser.lines.length) if(!this.get_pattern().match(parser.lines[parser.pos])) {
			childLines.push(parser.lines[parser.pos]);
			parser.advance();
		} else {
			parser.advance();
			break;
		}
		return childLines;
	}
	,parse: function(parser) {
		var syntax = this.get_pattern().matched(1);
		var code = markdown_ElementNode.text("code",StringTools.htmlEscape(this.parseChildLines(parser).join("\n")));
		if(syntax != null && syntax.length > 0) {
			var _this = code.attributes;
			var value = "prettyprint " + syntax;
			if(__map_reserved["class"] != null) {
				_this.setReserved("class",value);
			} else {
				_this.h["class"] = value;
			}
		}
		return new markdown_ElementNode("pre",[code]);
	}
	,__class__: markdown_GitHubCodeBlockSyntax
});
var markdown_HorizontalRuleSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.HorizontalRuleSyntax"] = markdown_HorizontalRuleSyntax;
markdown_HorizontalRuleSyntax.__name__ = ["markdown","HorizontalRuleSyntax"];
markdown_HorizontalRuleSyntax.__super__ = markdown_BlockSyntax;
markdown_HorizontalRuleSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HR;
	}
	,parse: function(parser) {
		parser.advance();
		return markdown_ElementNode.empty("hr");
	}
	,__class__: markdown_HorizontalRuleSyntax
});
var markdown_BlockHtmlSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.BlockHtmlSyntax"] = markdown_BlockHtmlSyntax;
markdown_BlockHtmlSyntax.__name__ = ["markdown","BlockHtmlSyntax"];
markdown_BlockHtmlSyntax.__super__ = markdown_BlockSyntax;
markdown_BlockHtmlSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_HTML;
	}
	,get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var childLines = [];
		while(parser.pos < parser.lines.length && !parser.matches(markdown_BlockSyntax.RE_EMPTY)) {
			childLines.push(parser.lines[parser.pos]);
			parser.advance();
		}
		return new markdown_TextNode(childLines.join("\n"));
	}
	,__class__: markdown_BlockHtmlSyntax
});
var markdown_ListItem = function(lines) {
	this.forceBlock = false;
	this.lines = lines;
};
$hxClasses["markdown.ListItem"] = markdown_ListItem;
markdown_ListItem.__name__ = ["markdown","ListItem"];
markdown_ListItem.prototype = {
	__class__: markdown_ListItem
};
var markdown_ParagraphSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.ParagraphSyntax"] = markdown_ParagraphSyntax;
markdown_ParagraphSyntax.__name__ = ["markdown","ParagraphSyntax"];
markdown_ParagraphSyntax.__super__ = markdown_BlockSyntax;
markdown_ParagraphSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_canEndBlock: function() {
		return false;
	}
	,canParse: function(parser) {
		return true;
	}
	,parse: function(parser) {
		var childLines = [];
		while(!markdown_BlockSyntax.isAtBlockEnd(parser)) {
			childLines.push(StringTools.ltrim(parser.lines[parser.pos]));
			parser.advance();
		}
		return new markdown_ElementNode("p",parser.document.parseInline(childLines.join("\n")));
	}
	,__class__: markdown_ParagraphSyntax
});
var markdown_ListSyntax = function(listTag) {
	markdown_BlockSyntax.call(this);
	this.listTag = listTag;
};
$hxClasses["markdown.ListSyntax"] = markdown_ListSyntax;
markdown_ListSyntax.__name__ = ["markdown","ListSyntax"];
markdown_ListSyntax.__super__ = markdown_BlockSyntax;
markdown_ListSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var items = [];
		var childLines = [];
		var endItem = function() {
			if(childLines.length > 0) {
				items.push(new markdown_ListItem(childLines));
				childLines = [];
			}
		};
		var match;
		var tryMatch = function(pattern) {
			match = pattern;
			return pattern.match(parser.lines[parser.pos]);
		};
		while(parser.pos < parser.lines.length) {
			if(tryMatch(markdown_BlockSyntax.RE_EMPTY)) {
				childLines.push("");
			} else if(tryMatch(markdown_BlockSyntax.RE_UL) || tryMatch(markdown_BlockSyntax.RE_OL)) {
				endItem();
				var tmp = match.matched(1);
				childLines.push(tmp);
			} else if(tryMatch(markdown_BlockSyntax.RE_INDENT)) {
				var tmp1 = match.matched(1);
				childLines.push(tmp1);
			} else if(markdown_BlockSyntax.isAtBlockEnd(parser)) {
				break;
			} else {
				if(childLines.length > 0 && childLines[childLines.length - 1] == "") {
					break;
				}
				childLines.push(parser.lines[parser.pos]);
			}
			parser.advance();
		}
		endItem();
		var _g1 = 0;
		var _g = items.length;
		while(_g1 < _g) {
			var i = _g1++;
			var len = items[i].lines.length;
			var _g3 = 1;
			var _g2 = len + 1;
			while(_g3 < _g2) if(markdown_BlockSyntax.RE_EMPTY.match(items[i].lines[len - _g3++])) {
				if(i < items.length - 1) {
					items[i].forceBlock = true;
					items[i + 1].forceBlock = true;
				}
				items[i].lines.pop();
			} else {
				break;
			}
		}
		var itemNodes = [];
		var _g4 = 0;
		while(_g4 < items.length) {
			var item = items[_g4];
			++_g4;
			var blockItem = item.forceBlock || item.lines.length > 1;
			var blocksInList = [markdown_BlockSyntax.RE_BLOCKQUOTE,markdown_BlockSyntax.RE_HEADER,markdown_BlockSyntax.RE_HR,markdown_BlockSyntax.RE_INDENT,markdown_BlockSyntax.RE_UL,markdown_BlockSyntax.RE_OL];
			if(!blockItem) {
				var _g11 = 0;
				while(_g11 < blocksInList.length) if(blocksInList[_g11++].match(item.lines[0])) {
					blockItem = true;
					break;
				}
			}
			if(blockItem) {
				var children = parser.document.parseLines(item.lines);
				if(!item.forceBlock && children.length == 1) {
					if((children[0] instanceof markdown_ElementNode)) {
						var node = children[0];
						if(node.tag == "p") {
							children = node.children;
						}
					}
				}
				itemNodes.push(new markdown_ElementNode("li",children));
			} else {
				itemNodes.push(new markdown_ElementNode("li",parser.document.parseInline(item.lines[0])));
			}
		}
		return new markdown_ElementNode(this.listTag,itemNodes);
	}
	,__class__: markdown_ListSyntax
});
var markdown_UnorderedListSyntax = function() {
	markdown_ListSyntax.call(this,"ul");
};
$hxClasses["markdown.UnorderedListSyntax"] = markdown_UnorderedListSyntax;
markdown_UnorderedListSyntax.__name__ = ["markdown","UnorderedListSyntax"];
markdown_UnorderedListSyntax.__super__ = markdown_ListSyntax;
markdown_UnorderedListSyntax.prototype = $extend(markdown_ListSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_UL;
	}
	,__class__: markdown_UnorderedListSyntax
});
var markdown_OrderedListSyntax = function() {
	markdown_ListSyntax.call(this,"ol");
};
$hxClasses["markdown.OrderedListSyntax"] = markdown_OrderedListSyntax;
markdown_OrderedListSyntax.__name__ = ["markdown","OrderedListSyntax"];
markdown_OrderedListSyntax.__super__ = markdown_ListSyntax;
markdown_OrderedListSyntax.prototype = $extend(markdown_ListSyntax.prototype,{
	get_pattern: function() {
		return markdown_BlockSyntax.RE_OL;
	}
	,__class__: markdown_OrderedListSyntax
});
var markdown_TableSyntax = function() {
	markdown_BlockSyntax.call(this);
};
$hxClasses["markdown.TableSyntax"] = markdown_TableSyntax;
markdown_TableSyntax.__name__ = ["markdown","TableSyntax"];
markdown_TableSyntax.__super__ = markdown_BlockSyntax;
markdown_TableSyntax.prototype = $extend(markdown_BlockSyntax.prototype,{
	get_pattern: function() {
		return markdown_TableSyntax.TABLE_PATTERN;
	}
	,get_canEndBlock: function() {
		return false;
	}
	,parse: function(parser) {
		var lines = [];
		while(parser.pos < parser.lines.length && parser.matches(markdown_TableSyntax.TABLE_PATTERN)) {
			lines.push(parser.lines[parser.pos]);
			parser.advance();
		}
		var heads = [];
		var rows = [];
		var headLine = lines.shift();
		var alignLine = lines.shift();
		var aligns = [];
		if(alignLine != null) {
			markdown_TableSyntax.CELL_PATTERN.map(alignLine,function(e) {
				var text = e.matched(2);
				aligns.push(text.charAt(0) == ":" ? text.charAt(text.length - 1) == ":" ? "center" : "left" : text.charAt(text.length - 1) == ":" ? "right" : "left");
				return "";
			});
		}
		var index = 0;
		markdown_TableSyntax.CELL_PATTERN.map(headLine,function(e1) {
			var text1 = StringTools.trim(e1.matched(2));
			var cell = new markdown_ElementNode("th",parser.document.parseInline(text1));
			if(aligns[index] != "left") {
				var _this = cell.attributes;
				var value = aligns[index];
				if(__map_reserved["align"] != null) {
					_this.setReserved("align",value);
				} else {
					_this.h["align"] = value;
				}
			}
			heads.push(cell);
			index += 1;
			return "";
		});
		var _g = 0;
		while(_g < lines.length) {
			var line = lines[_g++];
			var cols = [[]];
			rows.push(new markdown_ElementNode("tr",cols[0]));
			markdown_TableSyntax.CELL_PATTERN.map(line,(function(index1,cols1) {
				return function(e2) {
					var text2 = StringTools.trim(e2.matched(2));
					var cell1 = new markdown_ElementNode("td",parser.document.parseInline(text2));
					if(aligns[index1[0]] != "left") {
						var _this1 = cell1.attributes;
						var value1 = aligns[index1[0]];
						if(__map_reserved["align"] != null) {
							_this1.setReserved("align",value1);
						} else {
							_this1.h["align"] = value1;
						}
					}
					cols1[0].push(cell1);
					index1[0] += 1;
					return "";
				};
			})([0],cols));
		}
		return new markdown_ElementNode("table",[new markdown_ElementNode("thead",heads),new markdown_ElementNode("tbody",rows)]);
	}
	,__class__: markdown_TableSyntax
});
var markdown_InlineSyntax = function(pattern) {
	this.pattern = new EReg(pattern,"m");
};
$hxClasses["markdown.InlineSyntax"] = markdown_InlineSyntax;
markdown_InlineSyntax.__name__ = ["markdown","InlineSyntax"];
markdown_InlineSyntax.prototype = {
	tryMatch: function(parser) {
		if(this.pattern.match(parser.get_currentSource()) && this.pattern.matchedPos().pos == 0) {
			parser.writeText();
			if(this.onMatch(parser)) {
				parser.consume(this.pattern.matched(0).length);
			}
			return true;
		}
		return false;
	}
	,onMatch: function(parser) {
		return false;
	}
	,__class__: markdown_InlineSyntax
};
var markdown_AutolinkSyntaxWithoutBrackets = function() {
	markdown_InlineSyntax.call(this,"\\b((http|https|ftp)://[^\\s]*)\\b");
};
$hxClasses["markdown.AutolinkSyntaxWithoutBrackets"] = markdown_AutolinkSyntaxWithoutBrackets;
markdown_AutolinkSyntaxWithoutBrackets.__name__ = ["markdown","AutolinkSyntaxWithoutBrackets"];
markdown_AutolinkSyntaxWithoutBrackets.__super__ = markdown_InlineSyntax;
markdown_AutolinkSyntaxWithoutBrackets.prototype = $extend(markdown_InlineSyntax.prototype,{
	tryMatch: function(parser) {
		return markdown_InlineSyntax.prototype.tryMatch.call(this,parser);
	}
	,onMatch: function(parser) {
		var url = this.pattern.matched(1);
		var anchor = markdown_ElementNode.text("a",StringTools.htmlEscape(url));
		var _this = anchor.attributes;
		if(__map_reserved["href"] != null) {
			_this.setReserved("href",url);
		} else {
			_this.h["href"] = url;
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_AutolinkSyntaxWithoutBrackets
});
var markdown_TextSyntax = function(pattern,substitute) {
	markdown_InlineSyntax.call(this,pattern);
	this.substitute = substitute;
};
$hxClasses["markdown.TextSyntax"] = markdown_TextSyntax;
markdown_TextSyntax.__name__ = ["markdown","TextSyntax"];
markdown_TextSyntax.__super__ = markdown_InlineSyntax;
markdown_TextSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		if(this.substitute == null) {
			parser.advanceBy(this.pattern.matched(0).length);
			return false;
		}
		parser.addNode(parser.createText(this.substitute));
		return true;
	}
	,__class__: markdown_TextSyntax
});
var markdown_AutolinkSyntax = function() {
	markdown_InlineSyntax.call(this,"<((http|https|ftp)://[^>]*)>");
};
$hxClasses["markdown.AutolinkSyntax"] = markdown_AutolinkSyntax;
markdown_AutolinkSyntax.__name__ = ["markdown","AutolinkSyntax"];
markdown_AutolinkSyntax.__super__ = markdown_InlineSyntax;
markdown_AutolinkSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		var url = this.pattern.matched(1);
		var anchor = markdown_ElementNode.text("a",StringTools.htmlEscape(url));
		var _this = anchor.attributes;
		if(__map_reserved["href"] != null) {
			_this.setReserved("href",url);
		} else {
			_this.h["href"] = url;
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_AutolinkSyntax
});
var markdown_TagSyntax = function(pattern,tag,end) {
	markdown_InlineSyntax.call(this,pattern);
	this.tag = tag;
	this.endPattern = new EReg(end == null ? pattern : end,"m");
};
$hxClasses["markdown.TagSyntax"] = markdown_TagSyntax;
markdown_TagSyntax.__name__ = ["markdown","TagSyntax"];
markdown_TagSyntax.__super__ = markdown_InlineSyntax;
markdown_TagSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		parser.stack.push(new markdown_TagState(parser.pos,parser.pos + this.pattern.matched(0).length,this));
		return true;
	}
	,onMatchEnd: function(parser,state) {
		parser.addNode(new markdown_ElementNode(this.tag,state.children));
		return true;
	}
	,__class__: markdown_TagSyntax
});
var markdown_LinkSyntax = function(linkResolver) {
	markdown_TagSyntax.call(this,"\\[",null,markdown_LinkSyntax.linkPattern);
	this.linkResolver = linkResolver;
};
$hxClasses["markdown.LinkSyntax"] = markdown_LinkSyntax;
markdown_LinkSyntax.__name__ = ["markdown","LinkSyntax"];
markdown_LinkSyntax.__super__ = markdown_TagSyntax;
markdown_LinkSyntax.prototype = $extend(markdown_TagSyntax.prototype,{
	onMatchEnd: function(parser,state) {
		var url;
		var title;
		if(this.endPattern.matched(1) == null || this.endPattern.matched(1) == "") {
			if(this.linkResolver == null) {
				return false;
			}
			if(state.children.length != 1) {
				return false;
			}
			if(!(state.children[0] instanceof markdown_TextNode)) {
				return false;
			}
			var node = this.linkResolver(state.children[0].text);
			if(node == null) {
				return false;
			}
			parser.addNode(node);
			return true;
		}
		if(this.endPattern.matched(3) != null && this.endPattern.matched(3) != "") {
			url = this.endPattern.matched(3);
			title = this.endPattern.matched(4);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = url.substring(1,url.length - 1);
			}
		} else {
			var id = this.endPattern.matched(2);
			if(id == "") {
				id = parser.source.substring(state.startPos + 1,parser.pos);
			}
			id = id.toLowerCase();
			var _this = parser.document.refLinks;
			var link = __map_reserved[id] != null ? _this.getReserved(id) : _this.h[id];
			if(link == null) {
				return false;
			}
			url = link.url;
			title = link.title;
		}
		var anchor = new markdown_ElementNode("a",state.children);
		var this1 = anchor.attributes;
		var value = StringTools.htmlEscape(url);
		var _this1 = this1;
		if(__map_reserved["href"] != null) {
			_this1.setReserved("href",value);
		} else {
			_this1.h["href"] = value;
		}
		if(title != null && title != "") {
			var this2 = anchor.attributes;
			var value1 = StringTools.htmlEscape(title);
			var _this2 = this2;
			if(__map_reserved["title"] != null) {
				_this2.setReserved("title",value1);
			} else {
				_this2.h["title"] = value1;
			}
		}
		parser.addNode(anchor);
		return true;
	}
	,__class__: markdown_LinkSyntax
});
var markdown_ImgSyntax = function(linkResolver) {
	markdown_TagSyntax.call(this,"!\\[",null,markdown_ImgSyntax.linkPattern);
	this.linkResolver = linkResolver;
};
$hxClasses["markdown.ImgSyntax"] = markdown_ImgSyntax;
markdown_ImgSyntax.__name__ = ["markdown","ImgSyntax"];
markdown_ImgSyntax.__super__ = markdown_TagSyntax;
markdown_ImgSyntax.prototype = $extend(markdown_TagSyntax.prototype,{
	onMatchEnd: function(parser,state) {
		var url;
		var title;
		if(this.endPattern.matched(1) == null || this.endPattern.matched(1) == "") {
			if(this.linkResolver == null) {
				return false;
			}
			if(state.children.length != 1) {
				return false;
			}
			if(!(state.children[0] instanceof markdown_TextNode)) {
				return false;
			}
			var node = this.linkResolver(state.children[0].text);
			if(node == null) {
				return false;
			}
			parser.addNode(node);
			return true;
		}
		if(this.endPattern.matched(3) != null && this.endPattern.matched(3) != "") {
			url = this.endPattern.matched(3);
			title = this.endPattern.matched(4);
			if(StringTools.startsWith(url,"<") && StringTools.endsWith(url,">")) {
				url = url.substring(1,url.length - 1);
			}
		} else {
			var id = this.endPattern.matched(2);
			if(id == "") {
				id = parser.source.substring(state.startPos + 1,parser.pos);
			}
			id = id.toLowerCase();
			var _this = parser.document.refLinks;
			var link = __map_reserved[id] != null ? _this.getReserved(id) : _this.h[id];
			if(link == null) {
				return false;
			}
			url = link.url;
			title = link.title;
		}
		var img = new markdown_ElementNode("img",null);
		var this1 = img.attributes;
		var value = StringTools.htmlEscape(url);
		var _this1 = this1;
		if(__map_reserved["src"] != null) {
			_this1.setReserved("src",value);
		} else {
			_this1.h["src"] = value;
		}
		if(state.children.length == 1 && (state.children[0] instanceof markdown_TextNode)) {
			var value1 = state.children[0].text;
			var _this2 = img.attributes;
			if(__map_reserved["alt"] != null) {
				_this2.setReserved("alt",value1);
			} else {
				_this2.h["alt"] = value1;
			}
		}
		if(title != null && title != "") {
			var this2 = img.attributes;
			var value2 = StringTools.htmlEscape(title);
			var _this3 = this2;
			if(__map_reserved["title"] != null) {
				_this3.setReserved("title",value2);
			} else {
				_this3.h["title"] = value2;
			}
		}
		parser.addNode(img);
		return true;
	}
	,__class__: markdown_ImgSyntax
});
var markdown_CodeSyntax = function(pattern) {
	markdown_InlineSyntax.call(this,pattern);
};
$hxClasses["markdown.CodeSyntax"] = markdown_CodeSyntax;
markdown_CodeSyntax.__name__ = ["markdown","CodeSyntax"];
markdown_CodeSyntax.__super__ = markdown_InlineSyntax;
markdown_CodeSyntax.prototype = $extend(markdown_InlineSyntax.prototype,{
	onMatch: function(parser) {
		parser.addNode(markdown_ElementNode.text("code",StringTools.htmlEscape(this.pattern.matched(1))));
		return true;
	}
	,__class__: markdown_CodeSyntax
});
var markdown_InlineParser = function(source,document) {
	this.start = 0;
	this.pos = 0;
	this.source = source;
	this.document = document;
	this.stack = [];
	if(document.inlineSyntaxes != null) {
		this.syntaxes = [];
		var _g = 0;
		var _g1 = document.inlineSyntaxes;
		while(_g < _g1.length) this.syntaxes.push(_g1[_g++]);
		var _g2 = 0;
		var _g11 = markdown_InlineParser.defaultSyntaxes;
		while(_g2 < _g11.length) this.syntaxes.push(_g11[_g2++]);
	} else {
		this.syntaxes = markdown_InlineParser.defaultSyntaxes;
	}
	var _this = this.syntaxes;
	var x = new markdown_LinkSyntax(document.linkResolver);
	_this.splice(1,0,x);
};
$hxClasses["markdown.InlineParser"] = markdown_InlineParser;
markdown_InlineParser.__name__ = ["markdown","InlineParser"];
markdown_InlineParser.prototype = {
	parse: function() {
		this.stack.push(new markdown_TagState(0,0,null));
		while(!this.get_isDone()) {
			var matched = false;
			var _g1 = 1;
			var _g = this.stack.length;
			while(_g1 < _g) if(this.stack[this.stack.length - _g1++].tryMatch(this)) {
				matched = true;
				break;
			}
			if(matched) {
				continue;
			}
			var _g2 = 0;
			var _g11 = this.syntaxes;
			while(_g2 < _g11.length) if(_g11[_g2++].tryMatch(this)) {
				matched = true;
				break;
			}
			if(matched) {
				continue;
			}
			this.advanceBy(1);
		}
		return this.stack[0].close(this);
	}
	,writeText: function() {
		this.writeTextRange(this.start,this.pos);
		this.start = this.pos;
	}
	,writeTextRange: function(start,end) {
		if(end > start) {
			var text = this.source.substring(start,end);
			var nodes = this.stack[this.stack.length - 1].children;
			if(nodes.length > 0 && (nodes[nodes.length - 1] instanceof markdown_TextNode)) {
				var newNode = this.createText("" + nodes[nodes.length - 1].text + text);
				nodes[nodes.length - 1] = newNode;
			} else {
				nodes.push(this.createText(text));
			}
		}
	}
	,createText: function(text) {
		return new markdown_TextNode(this.unescape(text));
	}
	,addNode: function(node) {
		this.stack[this.stack.length - 1].children.push(node);
	}
	,get_currentSource: function() {
		return this.source.substring(this.pos,this.source.length);
	}
	,get_isDone: function() {
		return this.pos == this.source.length;
	}
	,advanceBy: function(length) {
		this.pos += length;
	}
	,consume: function(length) {
		this.pos += length;
		this.start = this.pos;
	}
	,unescape: function(text) {
		var _this_r = new RegExp("\\\\([\\\\`*_{}[\\]()#+-.!])","g".split("u").join(""));
		text = text.replace(_this_r,"$1");
		text = StringTools.replace(text,"\t","    ");
		return text;
	}
	,__class__: markdown_InlineParser
	,__properties__: {get_isDone:"get_isDone",get_currentSource:"get_currentSource"}
};
var markdown_TagState = function(startPos,endPos,syntax) {
	this.startPos = startPos;
	this.endPos = endPos;
	this.syntax = syntax;
	this.children = [];
};
$hxClasses["markdown.TagState"] = markdown_TagState;
markdown_TagState.__name__ = ["markdown","TagState"];
markdown_TagState.prototype = {
	tryMatch: function(parser) {
		if(this.syntax.endPattern.match(parser.get_currentSource()) && this.syntax.endPattern.matchedPos().pos == 0) {
			this.close(parser);
			return true;
		}
		return false;
	}
	,close: function(parser) {
		var index = parser.stack.indexOf(this);
		var unmatchedTags = parser.stack.splice(index + 1,parser.stack.length - index);
		var _g = 0;
		while(_g < unmatchedTags.length) {
			var unmatched = unmatchedTags[_g];
			++_g;
			parser.writeTextRange(unmatched.startPos,unmatched.endPos);
			var _g1 = 0;
			var _g2 = unmatched.children;
			while(_g1 < _g2.length) this.children.push(_g2[_g1++]);
		}
		parser.writeText();
		parser.stack.pop();
		if(parser.stack.length == 0) {
			return this.children;
		}
		if(this.syntax.onMatchEnd(parser,this)) {
			parser.consume(this.syntax.endPattern.matched(0).length);
		} else {
			parser.start = this.startPos;
			parser.advanceBy(this.syntax.endPattern.matched(0).length);
		}
		return null;
	}
	,__class__: markdown_TagState
};
var markdown_MarkdownTools = function() { };
$hxClasses["markdown.MarkdownTools"] = markdown_MarkdownTools;
markdown_MarkdownTools.__name__ = ["markdown","MarkdownTools"];
markdown_MarkdownTools.getBlocks = function(markdown1,additionalInlineSyntaxes) {
	var document = new Document();
	if(additionalInlineSyntaxes != null) {
		var _g = 0;
		while(_g < additionalInlineSyntaxes.length) document.inlineSyntaxes.push(additionalInlineSyntaxes[_g++]);
	}
	var blocks = null;
	try {
		var _this_r = new RegExp("(\r\n|\r)","g".split("u").join(""));
		var lines = markdown1.replace(_this_r,"\n").split("\n");
		document.parseRefLinks(lines);
		blocks = document.parseLines(lines);
		return blocks;
	} catch( e ) {
		console.log("src/markdown/MarkdownTools.hx:37:",(e instanceof js__$Boot_HaxeError) ? e.val : e);
		return null;
	}
};
var markdown_MithrilTools = function() { };
$hxClasses["markdown.MithrilTools"] = markdown_MithrilTools;
markdown_MithrilTools.__name__ = ["markdown","MithrilTools"];
markdown_MithrilTools.markdownToView = function(md,additionalInlineSyntaxes) {
	return markdown_MithrilTools.buildView(markdown_MarkdownTools.getBlocks(md,additionalInlineSyntaxes));
};
markdown_MithrilTools.buildView = function(mdNodes,parent) {
	if(parent == null) {
		parent = { tag : "div", attrs : { className : "markdown"}, children : []};
	}
	var _g = 0;
	while(_g < mdNodes.length) {
		var mdNode = mdNodes[_g];
		++_g;
		switch(mdNode == null ? null : js_Boot.getClass(mdNode)) {
		case markdown_ElementNode:
			var node = mdNode;
			var attributes = { };
			var _g1 = [];
			var k = node.attributes.keys();
			while(k.hasNext()) _g1.push(k.next());
			var _g2 = 0;
			while(_g2 < _g1.length) {
				var name = _g1[_g2];
				++_g2;
				var _this = node.attributes;
				attributes[name] = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
			}
			if(node.tag == "a") {
				attributes["target"] = "_blank";
			}
			var child = { tag : node.tag, attrs : attributes, children : []};
			parent.children.push(child);
			markdown_MithrilTools.buildView(node.children,child);
			break;
		case markdown_TextNode:
			parent.children.push({ tag : "span", text : mdNode.text});
			break;
		case markdown_ast_DataNode:
			var node1 = mdNode;
			var child1 = markdown_MithrilTools.cache.get(node1.data);
			if(child1 == null) {
				var child2 = "data-node: " + Std.string(node1.data);
				child1 = { tag : "h3", attrs : { }, children : [{ tag : "span", text : child2}]};
				markdown_MithrilTools.cache.set(node1.data,child1);
			}
			parent.children.push(child1);
			break;
		case markdown_ast_ErrorNode:
			parent.children.push({ tag : "span", attrs : { className : "error"}, children : ["Error: " + mdNode.msg]});
			break;
		default:
			console.log("src/markdown/MithrilTools.hx:97:","OTHER NODE");
		}
	}
	return parent;
};
var markdown_ast_DataNode = function(tag,data) {
	markdown_ElementNode.call(this,tag,[]);
	this.data = data;
};
$hxClasses["markdown.ast.DataNode"] = markdown_ast_DataNode;
markdown_ast_DataNode.__name__ = ["markdown","ast","DataNode"];
markdown_ast_DataNode.__super__ = markdown_ElementNode;
markdown_ast_DataNode.prototype = $extend(markdown_ElementNode.prototype,{
	__class__: markdown_ast_DataNode
});
var markdown_ast_ErrorNode = function(tag,msg) {
	markdown_ElementNode.call(this,tag,[]);
	this.msg = msg;
};
$hxClasses["markdown.ast.ErrorNode"] = markdown_ast_ErrorNode;
markdown_ast_ErrorNode.__name__ = ["markdown","ast","ErrorNode"];
markdown_ast_ErrorNode.__super__ = markdown_ElementNode;
markdown_ast_ErrorNode.prototype = $extend(markdown_ElementNode.prototype,{
	__class__: markdown_ast_ErrorNode
});
var mithril__$M_M_$Impl_$ = function() { };
$hxClasses["mithril._M.M_Impl_"] = mithril__$M_M_$Impl_$;
mithril__$M_M_$Impl_$.__name__ = ["mithril","_M","M_Impl_"];
mithril__$M_M_$Impl_$.routeLink = function(vnode) {
	return m.route.link(vnode);
};
var mithril_Mithril = function() { };
$hxClasses["mithril.Mithril"] = mithril_Mithril;
mithril_Mithril.__name__ = ["mithril","Mithril"];
var pdfjs_PDF = function() {
	this.pdflib = window["pdfjs-dist/build/pdf"];
};
$hxClasses["pdfjs.PDF"] = pdfjs_PDF;
pdfjs_PDF.__name__ = ["pdfjs","PDF"];
pdfjs_PDF.prototype = {
	getDocument: function(url) {
		return this.pdflib.getDocument(url);
	}
	,__class__: pdfjs_PDF
};
var pdfjs_PDFDoc = function(url) {
	this.url = url;
	this.pdf = new pdfjs_PDF();
};
$hxClasses["pdfjs.PDFDoc"] = pdfjs_PDFDoc;
pdfjs_PDFDoc.__name__ = ["pdfjs","PDFDoc"];
pdfjs_PDFDoc.prototype = {
	getDocument: function() {
		if(this.document != null) {
			return Promise.resolve(this.document);
		}
		return this.pdf.getDocument(this.url);
	}
	,renderPage: function(pageNr,scale) {
		if(scale == null) {
			scale = 1.8;
		}
		return this.getDocument().then(function(doc) {
			return doc.getPage(pageNr);
		}).then(function(p) {
			var page = p;
			var viewport = page.getViewport(scale);
			var canvas = window.document.createElement("canvas");
			canvas.height = viewport.height;
			canvas.width = viewport.width;
			return page.render({ canvasContext : canvas.getContext("2d",null), viewport : viewport}).then(function(x) {
				console.log("src/pdfjs/PDF.hx:76:","renderd page " + pageNr);
				console.log("src/pdfjs/PDF.hx:77:",canvas.width + " " + canvas.height);
				return canvas;
			});
		});
	}
	,__class__: pdfjs_PDFDoc
};
var ui_Bookpage = function() {
};
$hxClasses["ui.Bookpage"] = ui_Bookpage;
ui_Bookpage.__name__ = ["ui","Bookpage"];
ui_Bookpage.__interfaces__ = [mithril_Mithril];
ui_Bookpage.prototype = {
	chapterView: function(chapter) {
		try {
			if(chapter == null) {
				return null;
			}
			if(chapter.type == null || (chapter.type instanceof data_StandardChaptertype)) {
				return m.m("section",[m.m("h1","" + chapter.title),markdown_MithrilTools.markdownToView(chapter.text)]);
			} else {
				return null;
			}
		} catch( e ) {
			return m.m("div.error","chapterView: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,chaptersView: function(chapters,book) {
		try {
			return m.m("nav",[m.m("a.btn",{ href : "/content" + data_FilterModel.instance.getShelf().path, oncreate : mithril__$M_M_$Impl_$.routeLink},"<<"),m.m("img",{ src : "/assets/books/" + book.id + ".jpg"}),m.m("h3","Innehåll:"),m.m("ul",chapters.map(function(chap) {
				return m.m("li",m.m("a" + (chap == data_FilterModel.instance.getChapter() ? ".selected" : ""),{ href : "/content" + chap.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + chap.title));
			}))]);
		} catch( e ) {
			return m.m("div.error","chaptersView: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,subchaptersView: function(subchapters) {
		if(subchapters == null || subchapters.length == 0) {
			return null;
		}
		try {
			return m.m("menu",[subchapters.map(function(sub) {
				return m.m("a" + (sub == data_FilterModel.instance.getSubchapter() ? ".selected" : ""),{ href : "/content" + sub.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + sub.title);
			})]);
		} catch( e ) {
			return m.m("div.error","subchaptersView: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,editChapterView: function(chapter) {
		if(chapter == null) {
			return null;
		}
		try {
			return m.m("details",[m.m("textarea",{ style : { width : "100%", height : "300px"}, oninput : function(e) {
				return chapter.set_text(e.target.value);
			}, value : chapter.text}),m.m("button",{ onclick : function(e1) {
				console.log("src/ui/Bookpage.hx:94:",chapter.dbpath);
				return firebase.database().ref(chapter.dbpath).update({ text : chapter.text},function(e2) {
					console.log("src/ui/Bookpage.hx:96:","after update " + Std.string(e2));
					return;
				});
			}},"Save")]);
		} catch( e3 ) {
			return m.m("div.error","editChapterView: " + Std.string((e3 instanceof js__$Boot_HaxeError) ? e3.val : e3));
		}
	}
	,headerView: function(book) {
		try {
			if(book != null) {
				return m.m("header",[m.m("div",book.title)]);
			} else {
				return "No book selected";
			}
		} catch( e ) {
			return m.m("div.error","headerView: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,specialChapterView: function(chapter) {
		try {
			if(chapter == null || chapter.type == null) {
				return null;
			}
			var o = chapter.type;
			console.log("src/ui/Bookpage.hx:134:",o == null ? null : js_Boot.getClass(o));
			var o1 = chapter.type;
			switch(o1 == null ? null : js_Boot.getClass(o1)) {
			case data_PdfChaptertype:
				return ui_ViewMapper.instance.getNew("ui.PdfChapter",[chapter.type]).view();
			case data_PitchChaptertype:
				return ui_ViewMapper.instance.getNew("ui.PitchChapter",[chapter.type]).view();
			case data_RosettaChaptertype:
				return ui_ViewMapper.instance.getNew("ui.RosettaChapter",[chapter.type]).view();
			case data_ScorxmixerChaptertype:
				return ui_ViewMapper.instance.getNew("ui.ScorxmixerChapter",[chapter.type]).view();
			case data_VideoChaptertype:
				return ui_ViewMapper.instance.getNew("ui.VideoChapter",[chapter.type]).view();
			default:
				return m.m("div","Undefined special chapter: " + Std.string(chapter.type));
			}
		} catch( e ) {
			return m.m("div.error","specialChapterView: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
	}
	,view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var book = data_FilterModel.instance.getBook();
		var chapter = data_FilterModel.instance.getChapter();
		var chapters = data_FilterModel.instance.getChapters();
		var subchapter = data_FilterModel.instance.getSubchapter();
		var subchapters = data_FilterModel.instance.getSubchapters();
		return m.m("div.book",[this.headerView(book),this.chaptersView(chapters,book),m.m("article",[this.editChapterView(chapter),this.chapterView(chapter),this.specialChapterView(chapter),this.subchaptersView(subchapters),this.editChapterView(subchapter),this.chapterView(subchapter),this.specialChapterView(subchapter)])]);
	}
	,__class__: ui_Bookpage
};
var ui_ClientUI = function() {
};
$hxClasses["ui.ClientUI"] = ui_ClientUI;
ui_ClientUI.__name__ = ["ui","ClientUI"];
ui_ClientUI.__interfaces__ = [mithril_Mithril];
ui_ClientUI.prototype = {
	init: function() {
		var element = ($_=window.document,$bind($_,$_.querySelector));
		m.mount(element("header"),new ui_UIHeader());
		m.mount(element("main"),new ui_UIContent());
		m.mount(element("footer"),new ui_UIFooter());
	}
	,__class__: ui_ClientUI
};
var ui_UIFooter = function() {
};
$hxClasses["ui.UIFooter"] = ui_UIFooter;
ui_UIFooter.__name__ = ["ui","UIFooter"];
ui_UIFooter.__interfaces__ = [mithril_Mithril];
ui_UIFooter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var values_0_0 = "aaa";
		var values_0_1 = "Alt A";
		var values_1_0 = "ccc";
		var values_1_1 = "Alt B";
		var tmp = m.m("button",{ onclick : function(e) {
			return data_PagesModel.instance.set_pageIdx(0);
		}},"Page 0");
		var tmp1 = m.m("button",{ onclick : function(e1) {
			return data_PagesModel.instance.set_pageIdx(1);
		}},"Page 1");
		var tmp2 = m.m("button",{ onclick : function(e2) {
			return data_PagesModel.instance.set_pageIdx(2);
		}},"Page 2");
		var tmp3 = m.m("button",{ onclick : function(e3) {
			return data_PagesModel.instance.set_pageIdx(3);
		}},"Page 3");
		var tmp4 = m.m("button",{ onclick : function(e4) {
			return data_PagesModel.instance.set_pageWidth("100%");
		}},"Width 100%");
		var tmp5 = m.m("button",{ onclick : function(e5) {
			return data_PagesModel.instance.set_pageWidth("50%");
		}},"Width 50%");
		var tmp6 = m.m("button",{ onclick : function(e6) {
			return data_PagesModel.instance.set_pageWidth("25%");
		}},"Width 25%");
		var tmp7 = m.m("button",{ onclick : function(e7) {
			return data_ContentLoader.instance.loadContent();
		}},"Content load");
		var tmp8 = m.m("button",{ onclick : function(e8) {
			console.log("src/ui/ClientUI.hx:66:",JSON.stringify(dataclass_TypedJsonConverter.toTypedJson(data_ContentModel.instance.content)));
			return;
		}},"Trace content");
		var tmp9 = data_ContentModel.instance.content.rooms.map(function(room) {
			return m.m("option",{ value : room.id, key : room.id},room.title);
		});
		return [tmp,tmp1,tmp2,tmp3,tmp4,tmp5,tmp6,tmp7,tmp8,m.m("select",{ onchange : function(e9) {
			console.log("src/ui/ClientUI.hx:70:",e9.target.selectedIndex);
			var roomIdx = e9.target.selectedIndex;
			var roomId = data_ContentModel.instance.content.rooms[roomIdx].id;
			data_FilterModel.instance.setFilterContent({ roomId : roomId, bookId : null, shelfId : null, chapterId : null, subchapterId : null});
			return;
		}},tmp9),m.m("button",{ onclick : function(e10) {
			return data_ApiCalls.getRequest("/api/content-tree").then(function(result) {
				var content = result.data;
				console.log("src/ui/ClientUI.hx:83:",content.rooms);
				var c = dataclass_JsonConverter.fromJson(data_Content,content);
				console.log("src/ui/ClientUI.hx:114:","---------------------");
				console.log("src/ui/ClientUI.hx:116:",JSON.stringify(dataclass_TypedJsonConverter.toTypedJson(c)));
				return;
			})["catch"](function(e11) {
				console.log("src/ui/ClientUI.hx:119:",e11);
				return;
			});
		}},"ClickMe"),m.m("button",{ onclick : function(e12) {
			console.log("src/ui/ClientUI.hx:124:",JSON.stringify(dataclass_TypedJsonConverter.toTypedJson(data_ContentModel.instance.content)));
			return;
		}},"Tree to json")];
	}
	,__class__: ui_UIFooter
};
var ui_UIContent = function() {
};
$hxClasses["ui.UIContent"] = ui_UIContent;
ui_UIContent.__name__ = ["ui","UIContent"];
ui_UIContent.__interfaces__ = [mithril_Mithril];
ui_UIContent.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return new ui_Pages([new ui_Homepage().view(),new ui_Shelvespage().view(),new ui_Bookpage().view(),[new ui_content_ContentTreeView(data_ContentModel.instance.content).view(),new ui_UIFilters().view()]],data_PagesModel.instance.pageIdx,null,null,data_PagesModel.instance.pageWidth).view();
	}
	,__class__: ui_UIContent
};
var ui_Shelvespage = function() {
};
$hxClasses["ui.Shelvespage"] = ui_Shelvespage;
ui_Shelvespage.__name__ = ["ui","Shelvespage"];
ui_Shelvespage.__interfaces__ = [mithril_Mithril];
ui_Shelvespage.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var shelves = data_FilterModel.instance.getShelves().map(function(shelf) {
			var books = shelf.books.map(function(book) {
				var selected = book == data_FilterModel.instance.getBook() ? ".selected" : "";
				return m.m("nav" + selected,m.m("a",{ href : "/content" + book.path, oncreate : mithril__$M_M_$Impl_$.routeLink},[m.m("img",{ src : "/assets/books/" + book.id + ".jpg"}),m.m("div",book.title)]));
			});
			return m.m("section",[m.m("header",m.m("h1",shelf.title)),books]);
		});
		var view;
		try {
			view = m.m("div.shelves",[m.m("section",m.m("header",[m.m("a.btn",{ href : "/content" + data_FilterModel.instance.getRoom().path, oncreate : mithril__$M_M_$Impl_$.routeLink},"<<"),m.m("a.btn",{ href : "/content" + data_FilterModel.instance.getRoom().path + "/shelves", oncreate : mithril__$M_M_$Impl_$.routeLink},"Visa alla")])),shelves]);
		} catch( e ) {
			view = m.m("div","error " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e));
		}
		return view;
	}
	,__class__: ui_Shelvespage
};
var ui_Pages = function(views,shift,pageTop,pageBottom,pageWidth) {
	if(pageWidth == null) {
		pageWidth = "30%";
	}
	if(pageBottom == null) {
		pageBottom = "100px";
	}
	if(pageTop == null) {
		pageTop = "60px";
	}
	if(shift == null) {
		shift = 0;
	}
	this.views = views;
	this.shift = shift;
	this.pageTop = pageTop;
	this.pageBottom = pageBottom;
	this.pageWidth = pageWidth;
};
$hxClasses["ui.Pages"] = ui_Pages;
ui_Pages.__name__ = ["ui","Pages"];
ui_Pages.__interfaces__ = [mithril_Mithril];
ui_Pages.prototype = {
	view: function() {
		var _gthis = this;
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return m.m("div",Lambda.array(Lambda.mapi(this.views,function(i,v) {
			var pos = i + -_gthis.shift;
			var style = "\r\n                    position:absolute; \r\n                    width: " + _gthis.pageWidth + ";\r\n                    top: " + _gthis.pageTop + ";\r\n                    bottom:  " + _gthis.pageBottom + ";\r\n                    border: 0px solid gray;\r\n                    transition-duration: 200ms;        \r\n                    transform: translate3d(" + pos * 100 + "%, 0, 1px);\r\n                    overflow-y:scroll;\r\n                    \r\n                ";
			return m.m("div#page" + i,{ style : style},v);
		})));
	}
	,__class__: ui_Pages
};
var ui_Testpage = function(msg) {
	this.msg = msg;
};
$hxClasses["ui.Testpage"] = ui_Testpage;
ui_Testpage.__name__ = ["ui","Testpage"];
ui_Testpage.__interfaces__ = [mithril_Mithril];
ui_Testpage.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("h1",this.msg)];
	}
	,__class__: ui_Testpage
};
var ui_UIContentSearch = function() {
};
$hxClasses["ui.UIContentSearch"] = ui_UIContentSearch;
ui_UIContentSearch.__name__ = ["ui","UIContentSearch"];
ui_UIContentSearch.__interfaces__ = [mithril_Mithril];
ui_UIContentSearch.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return new ui_UIFilters().view();
	}
	,__class__: ui_UIContentSearch
};
var ui_UIFilters = function() {
};
$hxClasses["ui.UIFilters"] = ui_UIFilters;
ui_UIFilters.__name__ = ["ui","UIFilters"];
ui_UIFilters.__interfaces__ = [mithril_Mithril];
ui_UIFilters.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var f = data_FilterModel.instance.filterContent;
		var s = f != null ? "" + f.roomId + "/" + f.shelfId + "/" + f.bookId + "/" + f.chapterId + "/" + f.subchapterId : "null";
		var filterContentView = m.m("div","filter2: " + s);
		return m.m(".border",[m.m("h3","Filters:"),filterContentView]);
	}
	,__class__: ui_UIFilters
};
var ui_UIDevelop = function() {
};
$hxClasses["ui.UIDevelop"] = ui_UIDevelop;
ui_UIDevelop.__name__ = ["ui","UIDevelop"];
ui_UIDevelop.__interfaces__ = [mithril_Mithril];
ui_UIDevelop.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [new ui_content_ContentTreeView(data_ContentModel.instance.content).view(),new ui_content_ContentTreeView(data_ContentFilters.sort(data_ContentModel.instance.content)).view(),new ui_UIFilters().view()];
	}
	,__class__: ui_UIDevelop
};
var ui_Homepage = function() {
};
$hxClasses["ui.Homepage"] = ui_Homepage;
ui_Homepage.__name__ = ["ui","Homepage"];
ui_Homepage.__interfaces__ = [mithril_Mithril];
ui_Homepage.prototype = {
	shelvesView: function() {
		try {
			return [m.m("section.shelves",[m.m("header",m.m("h1","Innehåll")),data_FilterModel.instance.getRoom().shelves.map(function(shelf) {
				return m.m("nav" + (shelf == data_FilterModel.instance.getShelf() ? ".selected" : ""),m.m("a",{ href : "/content" + shelf.path, oncreate : mithril__$M_M_$Impl_$.routeLink},[m.m("img",{ src : "/assets/shelves/" + shelf.id + ".jpg"}),m.m("div",[m.m("h2",shelf.title),m.m("p",shelf.info)])]));
			})])];
		} catch( e ) {
			(e instanceof js__$Boot_HaxeError);
			return m.m("h3.error","404 - can not show other shelves for room  " + Std.string(data_FilterModel.instance.filterContent));
		}
	}
	,cellsView: function(s) {
		try {
			var header = s.title > "" ? m.m("header",m.m("h1",s.title)) : null;
			var copy = s.cells.slice();
			copy.sort(function(a,b) {
				return a.sort - b.sort;
			});
			return m.m("section.cells",[header,copy.map(function(c) {
				if((c == null ? null : js_Boot.getClass(c)) == data_VideoCell) {
					var c1 = c;
					var styles = { };
					if(c1.gridColumn > "") {
						styles["gridColumn"] = c1.gridColumn;
					}
					if(c1.gridRow > "") {
						styles["gridRow"] = c1.gridRow;
					}
					var tmp = m.m("video",{ src : c1.video, controls : true, style : { width : "100%", height : "100%", backgroundColor : "black"}});
					return m.m("article.cell",{ style : styles},tmp);
				} else {
					var c2 = c;
					var styles1 = { };
					var aTag = c2.url > "" ? "a" : "div";
					var aHref = c2.url > "" ? { href : c2.url, oncreate : mithril__$M_M_$Impl_$.routeLink} : null;
					var image = c2.image > "" ? m.m("img",{ src : c2.image}) : null;
					if(c2.color > "") {
						styles1["color"] = c2.color;
					}
					if(c2.bgcolor > "") {
						styles1["backgroundColor"] = c2.bgcolor;
					}
					if(c2.bgimage > "") {
						styles1["backgroundImage"] = "url(\"" + c2.bgimage + "\")";
					}
					if(c2.gridColumn > "") {
						styles1["gridColumn"] = c2.gridColumn;
					}
					if(c2.gridRow > "") {
						styles1["gridRow"] = c2.gridRow;
					}
					var tmp1 = m.m(aTag,aHref,[image,markdown_MithrilTools.markdownToView(c2.text)]);
					return m.m("article.cell",{ style : styles1},tmp1);
				}
			})]);
		} catch( e ) {
			var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
			console.log("src/ui/Homepage.hx:80:","error: " + Std.string(e1));
			return m.m("div.error","Error:" + Std.string(e1));
		}
	}
	,homeView: function() {
		var _gthis = this;
		try {
			var home = data_FilterModel.instance.getRoom().home;
			if(home == null) {
				return this.shelvesView();
			}
			var copy = home.sections.slice();
			copy.sort(function(a,b) {
				return a.sort - b.sort;
			});
			return [copy.map(function(s) {
				switch(s == null ? null : js_Boot.getClass(s)) {
				case data_SectionCells:
					return _gthis.cellsView(s);
				case data_SectionShelves:
					return _gthis.shelvesView();
				default:
					return m.m("div","unknown shelf");
				}
			})];
		} catch( e ) {
			return m.m("section",m.m("div","Homeview error: " + Std.string((e instanceof js__$Boot_HaxeError) ? e.val : e)));
		}
	}
	,view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return m.m("div.home",[ui_ViewMapper.instance.getNew("test").view(),this.homeView()]);
	}
	,__class__: ui_Homepage
};
var ui_LazyView = function() {
};
$hxClasses["ui.LazyView"] = ui_LazyView;
ui_LazyView.__name__ = ["ui","LazyView"];
ui_LazyView.__interfaces__ = [mithril_Mithril];
ui_LazyView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("h1","Lazy View")];
	}
	,__class__: ui_LazyView
};
var ui_PdfChapter = function(t) {
	this.cht = t;
};
$hxClasses["ui.PdfChapter"] = ui_PdfChapter;
ui_PdfChapter.__name__ = ["ui","PdfChapter"];
ui_PdfChapter.__interfaces__ = [mithril_Mithril];
ui_PdfChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var canvases = data_PdfModel.instance.getPages("/assets/pdf/test.pdf");
		return [m.m("div.specialchapter.pdf",m.m("h1","PdfChapter " + Std.string(this.cht))),m.m("div","canvases count " + canvases.length),m.m("div.pdfbackground",canvases.map(function(c) {
			return m.m("img.pdfpage",{ src : c.toDataURL()});
		}))];
	}
	,__class__: ui_PdfChapter
};
var ui_PitchChapter = function(c) {
	this.c = c;
};
$hxClasses["ui.PitchChapter"] = ui_PitchChapter;
ui_PitchChapter.__name__ = ["ui","PitchChapter"];
ui_PitchChapter.__interfaces__ = [mithril_Mithril];
ui_PitchChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div.specialchapter.pitch",m.m("h1","Pitch"))];
	}
	,__class__: ui_PitchChapter
};
var ui_RosettaChapter = function(t) {
	this.cht = t;
};
$hxClasses["ui.RosettaChapter"] = ui_RosettaChapter;
ui_RosettaChapter.__name__ = ["ui","RosettaChapter"];
ui_RosettaChapter.__interfaces__ = [mithril_Mithril];
ui_RosettaChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div.specialchapter.rosetta",m.m("h1","Rosetta " + Std.string(this.cht)))];
	}
	,__class__: ui_RosettaChapter
};
var ui_ScorxmixerChapter = function(c) {
	this.c = c;
};
$hxClasses["ui.ScorxmixerChapter"] = ui_ScorxmixerChapter;
ui_ScorxmixerChapter.__name__ = ["ui","ScorxmixerChapter"];
ui_ScorxmixerChapter.__interfaces__ = [mithril_Mithril];
ui_ScorxmixerChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div.specialchapter.pitch",m.m("h1","Pitch"))];
	}
	,__class__: ui_ScorxmixerChapter
};
var ui_UIHeader = function() {
	this.pass = "";
	this.email = "";
	this.email = "";
	this.pass = "";
};
$hxClasses["ui.UIHeader"] = ui_UIHeader;
ui_UIHeader.__name__ = ["ui","UIHeader"];
ui_UIHeader.__interfaces__ = [mithril_Mithril];
ui_UIHeader.prototype = {
	loginView: function() {
		var _gthis = this;
		try {
			return m.m("form",[m.m("input[type=input][placeholder='Email']",{ oninput : function(e) {
				return _gthis.email = e.target.value;
			}, value : this.email}),m.m("input[type=password][placeholder='Password']",{ oninput : function(e1) {
				return _gthis.pass = e1.target.value;
			}, value : this.pass}),m.m("button[type=button]",{ onclick : function(e2) {
				data_UserLoader.instance.signIn(_gthis.email,_gthis.pass);
				return;
			}},"Logga in")]);
		} catch( e3 ) {
			var e4 = (e3 instanceof js__$Boot_HaxeError) ? e3.val : e3;
			console.log("src/ui/UIHeader.hx:39:","error " + Std.string(e4));
			return m.m("div.error",e4);
		}
	}
	,loggedinView: function() {
		try {
			var selectvalues = data_ContentModel.instance.content.rooms.map(function(room) {
				return [room.id,"Gå till " + room.title];
			});
			selectvalues.push(["logout","Logga ut"]);
			selectvalues.unshift(["user",data_UserModel.instance.get_user().firstname + " " + data_UserModel.instance.get_user().lastname]);
			var tmp = selectvalues.map(function(kv) {
				return m.m("option",{ value : kv[0], key : kv[1]},kv[1]);
			});
			return m.m("div",[m.m("select.loggedin",{ onchange : function(e) {
				console.log("src/ui/UIHeader.hx:58:",e.target.selectedIndex);
				console.log("src/ui/UIHeader.hx:59:",e.target.value);
				switch(e.target.value) {
				case "logout":
					data_UserLoader.instance.signOut();
					break;
				case "user":
					break;
				default:
					data_FilterModel.instance.setFilterContent({ roomId : e.target.value, bookId : null, shelfId : null, chapterId : null, subchapterId : null});
				}
				return e.target.selectedIndex = 0;
			}},tmp)]);
		} catch( e1 ) {
			var e2 = (e1 instanceof js__$Boot_HaxeError) ? e1.val : e1;
			console.log("src/ui/UIHeader.hx:80:","error " + Std.string(e2));
			return m.m("div.error",e2);
		}
	}
	,userView: function() {
		try {
			switch(data_UserModel.instance.userState._hx_index) {
			case 0:
				return m.m("div",[this.loginView()]);
			case 1:
				return m.m("div","Loading...");
			case 2:
				return m.m("div",[this.loggedinView()]);
			}
		} catch( e ) {
			var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
			console.log("src/ui/UIHeader.hx:95:","error " + Std.string(e1));
			return m.m("div.error",e1);
		}
	}
	,view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("h2","" + (data_FilterModel.instance.getRoom() != null ? data_FilterModel.instance.getRoom().title : "No room loaded!")),this.userView()];
	}
	,__class__: ui_UIHeader
};
var ui_VideoChapter = function(c) {
	this.c = c;
};
$hxClasses["ui.VideoChapter"] = ui_VideoChapter;
ui_VideoChapter.__name__ = ["ui","VideoChapter"];
ui_VideoChapter.__interfaces__ = [mithril_Mithril];
ui_VideoChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div.specialchapter.video",m.m("h1","Video")),m.m("video",{ src : this.c.url, controls : true, style : { width : "100%", objectFit : "contain", backgroundColor : "black"}})];
	}
	,__class__: ui_VideoChapter
};
var ui_DefaultView = function(msg) {
	if(msg == null) {
		msg = "message";
	}
	this.msg = msg;
};
$hxClasses["ui.DefaultView"] = ui_DefaultView;
ui_DefaultView.__name__ = ["ui","DefaultView"];
ui_DefaultView.__interfaces__ = [mithril_Mithril];
ui_DefaultView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return [m.m("div","DefaultView: " + this.msg)];
	}
	,__class__: ui_DefaultView
};
var ui_ViewMapper = function() {
	this.map = new data_ClassMap();
	this.map.set("default",ui_DefaultView);
};
$hxClasses["ui.ViewMapper"] = ui_ViewMapper;
ui_ViewMapper.__name__ = ["ui","ViewMapper"];
ui_ViewMapper.prototype = {
	getNew: function(cls,args) {
		if(this.map.exists(cls)) {
			return this.map.getNew(cls,args);
		}
		return this.map.getNew("default",["ViewMapper: can not find class alias \"" + cls + "\""]);
	}
	,set: function(name,cls) {
		this.map.set(name,cls);
	}
	,__class__: ui_ViewMapper
};
var ui_content_HomeView = function() {
};
$hxClasses["ui.content.HomeView"] = ui_content_HomeView;
ui_content_HomeView.__name__ = ["ui","content","HomeView"];
ui_content_HomeView.__interfaces__ = [mithril_Mithril];
ui_content_HomeView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var room = data_FilterModel.instance.getRoom();
		var othershelvesView;
		try {
			othershelvesView = m.m("nav",data_FilterModel.instance.getShelves().map(function(shelf) {
				var selected = shelf == data_FilterModel.instance.getShelf() ? ".selected" : "";
				return m.m("a" + selected,{ href : "/content" + shelf.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + shelf.title);
			}));
		} catch( e ) {
			var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
			othershelvesView = m.m("h3.error","404 - can not show other shelves for room  " + Std.string(data_FilterModel.instance.filterContent));
		}
		var homeView;
		try {
			homeView = [m.m("a.border",{ href : "/content" + room.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Room: " + data_FilterModel.instance.getRoom().title),m.m("div","Homeshelf:"),m.m("div","Other shelves:"),othershelvesView];
		} catch( e2 ) {
			var e3 = (e2 instanceof js__$Boot_HaxeError) ? e2.val : e2;
			homeView = m.m("h1.error","404 - can not show room " + Std.string(data_FilterModel.instance.filterContent));
		}
		return m.m("div.border",[m.m("h1","homepage"),homeView]);
	}
	,__class__: ui_content_HomeView
};
var ui_content_ShelvesView = function() {
};
$hxClasses["ui.content.ShelvesView"] = ui_content_ShelvesView;
ui_content_ShelvesView.__name__ = ["ui","content","ShelvesView"];
ui_content_ShelvesView.__interfaces__ = [mithril_Mithril];
ui_content_ShelvesView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return m.m("div.border",[m.m("h1","shelves"),m.m("p",[m.m("a",{ href : "/content" + data_FilterModel.instance.getRoom().path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Visa alla")]),m.m("div",data_FilterModel.instance.getShelves().map(function(shelf) {
			var a = m.m("a",{ href : "/content" + shelf.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + shelf.title);
			return m.m("div.border",[a,m.m("nav",[shelf.books.map(function(book) {
				var selected = book == data_FilterModel.instance.getBook() ? ".selected" : "";
				return m.m("a" + selected,{ href : "/content" + book.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + book.title);
			})])]);
		}))]);
	}
	,__class__: ui_content_ShelvesView
};
var ui_content_BookView = function() {
};
$hxClasses["ui.content.BookView"] = ui_content_BookView;
ui_content_BookView.__name__ = ["ui","content","BookView"];
ui_content_BookView.__interfaces__ = [mithril_Mithril];
ui_content_BookView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var book = data_FilterModel.instance.getBook();
		var bookView;
		try {
			bookView = book == null ? m.m("div","No book selected") : [m.m("h1","" + book.title),m.m("p","" + book.info),m.m("div","Nr of chapters:" + book.chapters.length)];
		} catch( e ) {
			var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
			bookView = m.m(".error","404 - Can not show book: " + Std.string(book));
		}
		var chapter = data_FilterModel.instance.getChapter();
		var chapterView;
		try {
			chapterView = chapter == null ? m.m("div","No chapter selected") : [m.m("h3","" + chapter.title),m.m("p","" + HxOverrides.substr(chapter.text,0,50) + "...")];
		} catch( e2 ) {
			var e3 = (e2 instanceof js__$Boot_HaxeError) ? e2.val : e2;
			chapterView = m.m("div","Chapter does not exist");
		}
		var chapters = data_FilterModel.instance.getChapters();
		var chaptersView;
		try {
			chaptersView = [m.m("div.border","Chapters length:" + chapters.length),m.m("nav",chapters.map(function(chap) {
				var selected = chap == data_FilterModel.instance.getChapter() ? ".selected" : "";
				return m.m("a" + selected,{ href : "/content" + chap.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + chap.title);
			}))];
		} catch( e4 ) {
			var e5 = (e4 instanceof js__$Boot_HaxeError) ? e4.val : e4;
			chaptersView = m.m("div.border","No chapters");
		}
		var subchapter = data_FilterModel.instance.getSubchapter();
		var subchapterView;
		try {
			subchapterView = subchapter == null ? m.m("div","No subchapter selected") : [m.m("h3","" + subchapter.title),m.m("p","" + HxOverrides.substr(subchapter.text,0,50) + "...")];
		} catch( e6 ) {
			var e7 = (e6 instanceof js__$Boot_HaxeError) ? e6.val : e6;
			subchapterView = m.m("div","Subchapter does not exist");
		}
		var subchapters = data_FilterModel.instance.getSubchapters();
		var subchaptersView;
		try {
			subchaptersView = [m.m("div.border","Subchapters length:" + subchapters.length),m.m("nav",subchapters.map(function(sub) {
				var selected1 = sub == data_FilterModel.instance.getSubchapter() ? ".selected" : "";
				return m.m("a" + selected1,{ href : "/content" + sub.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"" + sub.title);
			}))];
		} catch( e8 ) {
			var e9 = (e8 instanceof js__$Boot_HaxeError) ? e8.val : e8;
			subchaptersView = m.m("div.border","No subchapters");
		}
		return m.m("div.border",[bookView,chaptersView,chapterView,subchaptersView,subchapterView]);
	}
	,__class__: ui_content_BookView
};
var ui_content_UIShelvesList = function(shelves) {
	this.shelves = shelves;
};
$hxClasses["ui.content.UIShelvesList"] = ui_content_UIShelvesList;
ui_content_UIShelvesList.__name__ = ["ui","content","UIShelvesList"];
ui_content_UIShelvesList.__interfaces__ = [mithril_Mithril];
ui_content_UIShelvesList.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return m.m("div.grid1",this.shelves.map(function(shelf) {
			var a = m.m("a",{ href : "/content" + shelf.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Shelf: " + shelf.path);
			return m.m("div.border",[a]);
		}));
	}
	,__class__: ui_content_UIShelvesList
};
var ui_content_UIBooksList = function(books) {
	this.books = books;
};
$hxClasses["ui.content.UIBooksList"] = ui_content_UIBooksList;
ui_content_UIBooksList.__name__ = ["ui","content","UIBooksList"];
ui_content_UIBooksList.__interfaces__ = [mithril_Mithril];
ui_content_UIBooksList.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		return m.m("div.grid4",this.books.map(function(book) {
			return m.m("a",{ href : "/book" + book.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Book: " + book.path);
		}));
	}
	,__class__: ui_content_UIBooksList
};
var ui_content_ContentTreeView = function(content) {
	this.content = content;
};
$hxClasses["ui.content.ContentTreeView"] = ui_content_ContentTreeView;
ui_content_ContentTreeView.__name__ = ["ui","content","ContentTreeView"];
ui_content_ContentTreeView.__interfaces__ = [mithril_Mithril];
ui_content_ContentTreeView.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var path = this.content.id;
		return m.m("details[open]",[m.m("summary","Content " + this.content.id)].concat(this.content.rooms.map(function(child) {
			return new ui_content_UIRoom(child).view();
		})));
	}
	,__class__: ui_content_ContentTreeView
};
var ui_content_UIRoom = function(item) {
	this.item = null;
	this.item = item;
};
$hxClasses["ui.content.UIRoom"] = ui_content_UIRoom;
ui_content_UIRoom.__name__ = ["ui","content","UIRoom"];
ui_content_UIRoom.__interfaces__ = [mithril_Mithril];
ui_content_UIRoom.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var children = this.item.shelves != null ? this.item.shelves : [];
		var anchor = m.m("a",{ href : "/content" + this.item.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Room:" + this.item.title + ":" + this.item.path);
		return m.m("details[open]",[m.m("summary",[anchor])].concat(children.map(function(child) {
			return new ui_content_UIShelf(child).view();
		})));
	}
	,__class__: ui_content_UIRoom
};
var ui_content_UIShelf = function(item) {
	this.item = item;
};
$hxClasses["ui.content.UIShelf"] = ui_content_UIShelf;
ui_content_UIShelf.__name__ = ["ui","content","UIShelf"];
ui_content_UIShelf.__interfaces__ = [mithril_Mithril];
ui_content_UIShelf.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var books = this.item.books != null ? this.item.books : [];
		var css = "access" + this.item.access;
		var anchor = m.m("a",{ href : "/content" + this.item.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Shelf:" + this.item.title + ":" + this.item.path);
		return m.m("details[openx]." + css,[m.m("summary",[anchor])].concat(books.map(function(child) {
			return new ui_content_UIBook(child).view();
		})));
	}
	,__class__: ui_content_UIShelf
};
var ui_content_UIBook = function(item) {
	this.item = null;
	this.item = item;
};
$hxClasses["ui.content.UIBook"] = ui_content_UIBook;
ui_content_UIBook.__name__ = ["ui","content","UIBook"];
ui_content_UIBook.__interfaces__ = [mithril_Mithril];
ui_content_UIBook.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var chapters = this.item.chapters != null ? this.item.chapters : [];
		var css = "access" + this.item.access;
		var anchor = m.m("a",{ href : "/content" + this.item.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Book:" + this.item.title + ":" + this.item.path);
		return m.m("details[openx]." + css,[m.m("summary",[anchor])].concat(chapters.map(function(child) {
			return new ui_content_UIChapter(child).view();
		})));
	}
	,__class__: ui_content_UIBook
};
var ui_content_UIChapter = function(item) {
	this.item = null;
	this.item = item;
};
$hxClasses["ui.content.UIChapter"] = ui_content_UIChapter;
ui_content_UIChapter.__name__ = ["ui","content","UIChapter"];
ui_content_UIChapter.__interfaces__ = [mithril_Mithril];
ui_content_UIChapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var chapters = this.item.subchapters != null ? this.item.subchapters : [];
		var css = "access" + this.item.access;
		var anchor = m.m("a",{ href : "/content" + this.item.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Chapter:" + this.item.title + ":" + this.item.path + " " + Std.string(this.item.type));
		return m.m("details[openx]." + css,[m.m("summary",[anchor])].concat(chapters.map(function(child) {
			return new ui_content_UISubchapter(child).view();
		})));
	}
	,__class__: ui_content_UIChapter
};
var ui_content_UISubchapter = function(item) {
	this.item = null;
	this.item = item;
};
$hxClasses["ui.content.UISubchapter"] = ui_content_UISubchapter;
ui_content_UISubchapter.__name__ = ["ui","content","UISubchapter"];
ui_content_UISubchapter.__interfaces__ = [mithril_Mithril];
ui_content_UISubchapter.prototype = {
	view: function() {
		if(arguments.length > 0 && arguments[0].tag != this) return arguments[0].tag.view.apply(arguments[0].tag, arguments);
		var chapters = this.item.subchapters != null ? this.item.subchapters : [];
		var css = "access" + this.item.access;
		var anchor = m.m("a",{ href : "/content" + this.item.path, oncreate : mithril__$M_M_$Impl_$.routeLink},"Subhapter:" + this.item.title + ":" + this.item.path + " " + Std.string(this.item.type));
		return m.m("details[open]." + css,[m.m("summary",[anchor])].concat(chapters.map(function(child) {
			return new ui_content_UIChapter(child).view();
		})));
	}
	,__class__: ui_content_UISubchapter
};
var utils__$UserEmail_UserEmail_$Impl_$ = {};
$hxClasses["utils._UserEmail.UserEmail_Impl_"] = utils__$UserEmail_UserEmail_$Impl_$;
utils__$UserEmail_UserEmail_$Impl_$.__name__ = ["utils","_UserEmail","UserEmail_Impl_"];
utils__$UserEmail_UserEmail_$Impl_$.isValid = function(address) {
	return utils__$UserEmail_UserEmail_$Impl_$.ereg.match(address);
};
var utils__$UserPassword_UserPassword_$Impl_$ = {};
$hxClasses["utils._UserPassword.UserPassword_Impl_"] = utils__$UserPassword_UserPassword_$Impl_$;
utils__$UserPassword_UserPassword_$Impl_$.__name__ = ["utils","_UserPassword","UserPassword_Impl_"];
utils__$UserPassword_UserPassword_$Impl_$.isValid = function(str) {
	return str.length > 3;
};
function $getIterator(o) { if( o instanceof Array ) return HxOverrides.iter(o); else return o.iterator(); }
var $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$hxClasses["Math"] = Math;
var __map_reserved = {};
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = ["String"];
$hxClasses["Array"] = Array;
Array.__name__ = ["Array"];
Date.prototype.__class__ = $hxClasses["Date"] = Date;
Date.__name__ = ["Date"];
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
haxe_ds_ObjectMap.count = 0;
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
try {
var __varName = window.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName);
} catch(_) {}
try {
GLOBAL.m = require("mithril");
var __varName1 = GLOBAL.m;
(function(m) {
			if (m.m) return;
			m.m = function() {
				try { 
					for(var i=0; i < arguments.length; ++i) if(arguments[i] instanceof List) {
						var list = arguments[i].h; arguments[i] = [];
						while(list != null) { arguments[i].push(l[0]); list = l[1]; }
					}
				} catch(e) {}
				return m.apply(this, arguments);
			}
		})(__varName1);
} catch(_) {}
DateTools.DAY_SHORT_NAMES = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
DateTools.DAY_NAMES = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
DateTools.MONTH_SHORT_NAMES = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
DateTools.MONTH_NAMES = ["January","February","March","April","May","June","July","August","September","October","November","December"];
Require.jsPath = "./";
Require.jsExt = ".js";
Require.loaded = new haxe_ds_StringMap();
data_UserData.__meta__ = { obj : { dataClassRtti : [{ firstname : "String", lastname : "String", email : "String", domains : "Array<String>", access : "Int"}]}};
data_Content.__meta__ = { obj : { dataClassRtti : [{ id : "String", rooms : "Array<DataClass<data.Room>>"}]}, fields : { path : { exclude : null}, dbpath : { exclude : null}}};
data_Room.__meta__ = { obj : { dataClassRtti : [{ id : "String", shelves : "Array<DataClass<data.Shelf>>", title : "String", sort : "Int", home : "DataClass<data.Home>"}]}, fields : { path : { exclude : null}, dbpath : { exclude : null}}};
data_Home.__meta__ = { obj : { dataClassRtti : [{ title : "String", sections : "Array<Interface<data.IHomeSection>>"}]}};
data_SectionShelves.__meta__ = { obj : { dataClassRtti : [{ title : "String", sort : "Int"}]}};
data_SectionCells.__meta__ = { obj : { dataClassRtti : [{ title : "String", sort : "Int", cells : "Array<Interface<data.IHomeCell>>"}]}};
data_TextCell.__meta__ = { obj : { dataClassRtti : [{ title : "String", sort : "Int", gridColumn : "String", gridRow : "String", color : "String", text : "String", bgcolor : "String", bgimage : "String", url : "String", image : "String"}]}};
data_VideoCell.__meta__ = { obj : { dataClassRtti : [{ title : "String", sort : "Int", gridColumn : "String", gridRow : "String", color : "String", text : "String", bgcolor : "String", bgimage : "String", url : "String", image : "String", video : "String"}]}};
data_Shelf.__meta__ = { obj : { dataClassRtti : [{ id : "String", title : "String", access : "Int", info : "String", books : "Array<DataClass<data.Book>>", sort : "Int", type : "String"}]}, fields : { path : { exclude : null}, dbpath : { exclude : null}}};
data_Book.__meta__ = { obj : { dataClassRtti : [{ id : "String", title : "String", access : "Int", type : "String", info : "String", chapters : "Array<DataClass<data.Chapter>>", sort : "Int"}]}, fields : { path : { exclude : null}, dbpath : { exclude : null}}};
data_Chapter.__meta__ = { obj : { dataClassRtti : [{ id : "String", title : "String", access : "Int", info : "String", text : "String", sort : "Int", subchapters : "Array<DataClass<data.Chapter>>", type : "Interface<data.IChaptertype>"}]}, fields : { path : { exclude : null}, dbpath : { exclude : null}}};
data_StandardChaptertype.__meta__ = { obj : { dataClassRtti : [{ }]}};
data_VideoChaptertype.__meta__ = { obj : { dataClassRtti : [{ url : "String"}]}};
data_RosettaChaptertype.__meta__ = { obj : { dataClassRtti : [{ data : "String"}]}};
data_PdfChaptertype.__meta__ = { obj : { dataClassRtti : [{ filename : "String"}]}};
data_PitchChaptertype.__meta__ = { obj : { dataClassRtti : [{ }]}};
data_ScorxmixerChaptertype.__meta__ = { obj : { dataClassRtti : [{ }]}};
data_ContentLoader.instance = new data_ContentLoader();
data_ContentModel.instance = new data_ContentModel();
data_ErrorsAndLogs.logs = [];
data_ErrorsAndLogs.errors = [];
data_FilterModel.instance = new data_FilterModel();
data_FirebaseModel.instance = new data_FirebaseModel();
data_PagesModel.instance = new data_PagesModel();
data_PdfModel.instance = new data_PdfModel();
data_Routes.instance = new data_Routes();
data_UserLoader.instance = new data_UserLoader();
data_UserModel.instance = new data_UserModel();
dataclass_Converter.typedClassFieldName = "classtype";
dataclass_Converter.directConversions = ["Int","Bool","Float","String"];
dataclass_Converter.enumCache = new haxe_ds_StringMap();
dataclass_Converter.classCache = new haxe_ds_StringMap();
dataclass_JsonConverter.current = new dataclass_JsonConverter();
dataclass_TypedJsonConverter.current = new dataclass_TypedJsonConverter();
js_Boot.__toStr = ({ }).toString;
markdown_BlockSyntax.RE_EMPTY = new EReg("^([ \\t]*)$","");
markdown_BlockSyntax.RE_SETEXT = new EReg("^((=+)|(-+))$","");
markdown_BlockSyntax.RE_HEADER = new EReg("^(#{1,6})(.*?)#*$","");
markdown_BlockSyntax.RE_BLOCKQUOTE = new EReg("^[ ]{0,3}>[ ]?(.*)$","");
markdown_BlockSyntax.RE_INDENT = new EReg("^(?:    |\t)(.*)$","");
markdown_BlockSyntax.RE_CODE = new EReg("^```(\\w*)\\s*$","");
markdown_BlockSyntax.RE_HR = new EReg("^[ ]{0,3}((-+[ ]{0,2}){3,}|(_+[ ]{0,2}){3,}|(\\*+[ ]{0,2}){3,})$","");
markdown_BlockSyntax.RE_HTML = new EReg("^<[ ]*\\w+[ >]","");
markdown_BlockSyntax.RE_UL = new EReg("^[ ]{0,3}[*+-][ \\t]+(.*)$","");
markdown_BlockSyntax.RE_OL = new EReg("^[ ]{0,3}\\d+\\.[ \\t]+(.*)$","");
markdown_TableSyntax.TABLE_PATTERN = new EReg("^(.+? +:?\\|:? +)+(.+)$","");
markdown_TableSyntax.CELL_PATTERN = new EReg("(\\|)?([^\\|]+)(\\|)?","g");
markdown_LinkSyntax.linkPattern = "\\](?:(" + "\\s?\\[([^\\]]*)\\]" + "|" + "\\s?\\(([^ )]+)(?:[ ]*\"([^\"]+)\"|)\\)" + ")|)";
markdown_ImgSyntax.linkPattern = "\\](?:(" + "\\s?\\[([^\\]]*)\\]" + "|" + "\\s?\\(([^ )]+)(?:[ ]*\"([^\"]+)\"|)\\)" + ")|)";
markdown_InlineParser.defaultSyntaxes = [new markdown_AutolinkSyntaxWithoutBrackets(),new markdown_TextSyntax(" {2,}\n","<br />\n"),new markdown_TextSyntax("\\s*[A-Za-z0-9]+"),new markdown_AutolinkSyntax(),new markdown_LinkSyntax(),new markdown_ImgSyntax(),new markdown_TextSyntax(" \\* "),new markdown_TextSyntax(" _ "),new markdown_TextSyntax("&[#a-zA-Z0-9]*;"),new markdown_TextSyntax("&","&amp;"),new markdown_TextSyntax("</?\\w+.*?>"),new markdown_TextSyntax("<","&lt;"),new markdown_TagSyntax("\\*\\*","strong"),new markdown_TagSyntax("__","strong"),new markdown_TagSyntax("\\*","em"),new markdown_TagSyntax("\\b_","em","_\\b"),new markdown_CodeSyntax("``\\s?((?:.|\\n)*?)\\s?``"),new markdown_CodeSyntax("`([^`]*)`")];
markdown_MithrilTools.cache = new cx_Cache(5);
ui_ClientUI.instance = new ui_ClientUI();
ui_ViewMapper.instance = new ui_ViewMapper();
utils__$UserEmail_UserEmail_$Impl_$.ereg = new EReg("^[\\w-\\.]{2,}@[\\w-\\.]{2,}\\.[a-z]{2,6}$","i");
Client.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
